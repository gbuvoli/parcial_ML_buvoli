

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>MODELOS DE MACHINE LEARNING OPTIMIZADOS PARA PREDICCION DE MATRICULAS: &#8212; jbook_ml202330</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Proyecto_cursoML';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Informe de Machine Learning
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Proyecto_sinVIFF.html">MODELOS DE MACHINE LEARNING OPTIMIZADOS PARA PREDICCION DE MATRICULAS:</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FProyecto_cursoML.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Proyecto_cursoML.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>MODELOS DE MACHINE LEARNING OPTIMIZADOS PARA PREDICCION DE MATRICULAS:</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#antecedentes-revision-bibliografica">1. ANTECEDENTES -REVISION BIBLIOGRAFICA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#algoritmos-geneticos">ALGORITMOS GENÉTICOS</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#metodologia">2. METODOLOGIA</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resultados">3. RESULTADOS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#desarrollo">Desarrollo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocesamiento-y-eda">Preprocesamiento y EDA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura-del-dataset">Lectura del Dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-exploratorio">Analisis Exploratorio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identificacion-de-datos-nulos">Identificacion de datos nulos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manejo-de-datos-nulos">Manejo de datos Nulos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ajustando-los-tipos-de-datos">Ajustando los tipos de datos</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizaciones">VISUALIZACIONES</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-engineering-balanceo-de-clases-smote-y-one-hot-encoding">Feature Engineering (Balanceo de clases SMOTE y One Hot Encoding)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aplicando-one-hot-encoder">APLICANDO ONE HOT ENCODER</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identificando-multicolinealidad">IDENTIFICANDO MULTICOLINEALIDAD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balance-de-las-categorias-del-target">BALANCE DE LAS CATEGORIAS DEL TARGET</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tecnica-smote">Tecnica SMOTE</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementacion-de-modelos-de-ml">IMPLEMENTACION DE MODELOS DE ML</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-logistica">REGRESION LOGÍSTICA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-forest-classifier">RANDOM FOREST CLASSIFIER</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#support-vector-machine">SUPPORT VECTOR MACHINE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#naive-bayes">NAIVE BAYES</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#algoritmo-genetico-para-mejorar-precision">ALGORITMO GENETICO PARA MEJORAR PRECISION</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="modelos-de-machine-learning-optimizados-para-prediccion-de-matriculas">
<h1>MODELOS DE MACHINE LEARNING OPTIMIZADOS PARA PREDICCION DE MATRICULAS:<a class="headerlink" href="#modelos-de-machine-learning-optimizados-para-prediccion-de-matriculas" title="Permalink to this heading">#</a></h1>
<p>##CASO PROGRAMA DE GEOLOGIA</p>
<p align="Center">
<img src="https://github.com/gbuvoli/DS_Final_project/blob/main/OBJETIVOS.jpg?raw=true" />
<img src="https://github.com/gbuvoli/DS_Final_project/blob/main/VARIABLES.jpg?raw=true" />
</p>
<section id="antecedentes-revision-bibliografica">
<h2>1. ANTECEDENTES -REVISION BIBLIOGRAFICA<a class="headerlink" href="#antecedentes-revision-bibliografica" title="Permalink to this heading">#</a></h2>
<p><em>ARTICULO #1</em></p>
<p><strong>A Machine Learning Modeling Prediction of Enrollment among Admitted College Applicants at University of Santo Tomas</strong> <a class="reference external" href="https://web.archive.org/web/20220826003333id_/https://aip.scitation.org/doi/pdf/10.1063/5.0100174">ver aqui</a></p>
<ul class="simple">
<li><p>Usaron informacion del <em>formulario de admision</em> y de la <em>prueba de admision</em></p></li>
<li><p>Aplicantes de los ultimos <em>5 años</em></p></li>
<li><p>Ignoraron datos que no aportan ningun valor a la predicción</p></li>
<li><p>No se consideraron aquellos con poca información</p></li>
<li><p>Utilizaron <em>23 variables predictoras</em> y <em>1 variable objetivo</em></p></li>
<li><p><em>3 numéricas</em> y <em>19 nominales</em></p></li>
<li><p><strong>SPLIT</strong>
Ordenado temporalmente:</p>
<ul>
<li><p>Del 2014 al 2018 + 20% del 2019 fue usado para Training-Validation</p></li>
<li><p>Dentro de esta data el split fue 70/30 para training y validaciones</p></li>
<li><p>El 80% restante del 2019 lo usaron para testing.</p></li>
</ul>
</li>
<li><p>La variable objetivo es categorica binaria: <code class="docutils literal notranslate"><span class="pre">Enrolled</span></code>, <code class="docutils literal notranslate"> <span class="pre">Nor</span> <span class="pre">Enrolled</span></code></p></li>
<li><p>Utilizaron:</p>
<ol class="arabic simple">
<li><p>Artificial Neural Network</p></li>
<li><p>Bayesian Network</p></li>
<li><p>Decision Tree</p></li>
<li><p>Logistic Regression</p></li>
</ol>
</li>
</ul>
<p>Metricas:</p>
<ul class="simple">
<li><p>accuracy</p></li>
<li><p>sensitivity</p></li>
<li><p>specificity</p></li>
<li><p>precision</p></li>
<li><p>negative predictive value</p></li>
</ul>
<p>Mejor modelo:  <strong>Naïve Bayes</strong> (Accu: 99.98%)</p>
<p><strong>RESTRICCIONES:</strong> La distribución de los matriculados y no matriculados esta restringida por confidencialidad.</p>
<p><em>ARTICULO #2</em></p>
<p><strong>Maximizing University Enrollment Using Institutional-Based Aid Scholarship</strong> <a class="reference external" href="https://github.com/gbuvoli/DS_Final_project/blob/4efd76774e9905803cc4ead77b582154eda3ee1f/Maximizing_University_Enrollment_Using_Institutional-Based_Aid_Scholarship.pdf">Leer aqui</a></p>
<p>Usaron:</p>
<ul class="simple">
<li><p>Estudiantes admitidos 2011-2018</p></li>
<li><p>54678 Filas</p></li>
<li><p>15 Features (Genero, raza, GPA, Ingresos, Fecha de aplicacion, Dinero de Beca, nivel educativo de los padres)</p></li>
<li><p>Datos sesgados (58%/42%)</p></li>
</ul>
<p><strong>MODELOS</strong>:</p>
<ul class="simple">
<li><p>Logistic regression (LR),</p></li>
<li><p>Support vector machines (SVMs)</p></li>
<li><p>Bayesian networks (BNs). (para visualizar las relaciones)</p></li>
</ul>
<p>** VALIDACION**</p>
<ul class="simple">
<li><p>K-fold Crossvalidation cv=10</p></li>
</ul>
<p><strong>OPTIMIZACION</strong>:</p>
<ul class="simple">
<li><p>Genetic algorithm optimization method (GA), <strong>una vez para cada modelo.</strong></p>
<ul>
<li><p>inicial_population=100</p></li>
<li><p>max_generations=300</p></li>
<li><p>crossover=0.8</p></li>
<li><p>mutations=1.0</p></li>
</ul>
</li>
</ul>
<p><strong>Condicion</strong> : aumento de financiacion de 0 a 1500</p>
<p align="Center">
<img src="https://github.com/gbuvoli/DS_Final_project/blob/main/art2b.JPG?raw=true" width="40%" height="400" align="Center" />
<img src="https://github.com/gbuvoli/DS_Final_project/blob/main/art2.JPG?raw=true" width="45%" height="500" align="Center" />
<p> </p>
</p><p><em>ARTICULO #3</em></p>
<p><strong>Enhanced Dermatoscopic Skin Lesion Classification using Machine Learning Techniques</strong> <a class="reference external" href="https://github.com/gbuvoli/DS_Final_project/blob/4efd76774e9905803cc4ead77b582154eda3ee1f/Enhanced_Dermatoscopic_Skin_Lesion_Classification_using_Machine_Learning_Techniques.pdf">Leer aqui</a></p>
<p>Usaron:</p>
<ul class="simple">
<li><p>TECNICA SMOTE (para balancer el dataset)</p></li>
<li><p><strong>MODELOS</strong></p>
<ol class="arabic simple">
<li><p>Naïve Bayes,</p></li>
<li><p>Logistic Regression</p></li>
<li><p>Decision Tree classifier (Gini index and Entropy)</p></li>
<li><p>Support Vector Machine (all possible kernels)</p></li>
<li><p>XGBoost</p></li>
</ol>
</li>
</ul>
<p align="Center">
<img src="https://github.com/gbuvoli/DS_Final_project/blob/main/image1_enhanced_dermatoscopic.jpg?raw=true" width="35%" height="600" align="Center" />
<img src="https://github.com/gbuvoli/DS_Final_project/blob/main/img2_dataset.jpg?raw=true" width="60%" height="600" align="Center" />
<p> </p>
<img src="https://github.com/gbuvoli/DS_Final_project/blob/main/Results.jpg?raw=true" width="90%" height="800"  align="Center" />
</p><section id="algoritmos-geneticos">
<h3>ALGORITMOS GENÉTICOS<a class="headerlink" href="#algoritmos-geneticos" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>Se usan para resolver problemas np (no polinomiales)</p></li>
<li><p>Se basan en el principio de Darwin, <code class="docutils literal notranslate"><span class="pre">La</span> <span class="pre">supervivencia</span> <span class="pre">del</span> <span class="pre">mas</span> <span class="pre">fuerte</span></code></p></li>
<li><p>Cuando dos hay cruce de individuos, el gen mas fuerte, sobrevivie.</p></li>
<li><p>Cromosomas, Genes y alelos.</p></li>
<li><p>Se busca que sean binarios.</p></li>
<li><p>Conjunto de cromosomas se asocian a una población.</p></li>
<li><p>El fitnes, funcion de evaluacion. Que tan fuerte es un cromosoma y que tan propenso es permanecer.</p>
<ul>
<li><p>Obtienes la propabilidad de reproducción de cada cromosoma.</p></li>
</ul>
</li>
<li><p>La tarea es cruzar cromosomas y general nuevo material genético, e insertar una tasa de mutación.</p></li>
<li><p>La descendencia mutada se llama D y es una nueva población.</p></li>
<li><p>Las iteraciones se llaman Generaciones.</p></li>
</ul>
<p>** PARÁMETROS**</p>
<ul>
<li><p>Fitness</p></li>
<li><p>Probabilidad de Cruce 0 - 100%
Tipicamente entre 0.6 y 0.9</p></li>
<li><p>Probabilidad de mutación</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1/tamaño P - 1/len_Cromosoma
</pre></div>
</div>
<p>Ideal que sean pequeños.</p>
</li>
</ul>
<p>** CRITERIOS DE DETERMINACION**</p>
<ul class="simple">
<li><p>Numero de Generaciones</p></li>
<li><p>Alcance del óptimo</p></li>
<li><p>Ausencia de mejora luego de varias generaciones.</p></li>
<li><p>Tiempo de computo fijo</p></li>
</ul>
</section>
</section>
<section id="metodologia">
<h2>2. METODOLOGIA<a class="headerlink" href="#metodologia" title="Permalink to this heading">#</a></h2>
<p align="Center">
<img src="https://github.com/gbuvoli/DS_Final_project/blob/main/myproject1.jpg?raw=true" />
</p>
</section>
<section id="resultados">
<h2>3. RESULTADOS<a class="headerlink" href="#resultados" title="Permalink to this heading">#</a></h2>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>index</p></th>
<th class="head"><p>precission</p></th>
<th class="head"><p>recall</p></th>
<th class="head"><p>f1_score</p></th>
<th class="head"><p>auc_score</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LogReg</p></td>
<td><p>0.5866666666666667</p></td>
<td><p>0.7213114754098361</p></td>
<td><p>0.6470588235294118</p></td>
<td><p>0.7860479464128327</p></td>
</tr>
<tr class="row-odd"><td><p>RANDOM_FOREST</p></td>
<td><p>0.6534653465346535</p></td>
<td><p>0.5409836065573771</p></td>
<td><p>0.5919282511210763</p></td>
<td><p>0.7860479464128327</p></td>
</tr>
<tr class="row-even"><td><p>SVM</p></td>
<td><p>0.6456692913385826</p></td>
<td><p>0.6721311475409836</p></td>
<td><p>0.6586345381526105</p></td>
<td><p>0.789749691521241</p></td>
</tr>
<tr class="row-odd"><td><p>NaiveBayes</p></td>
<td><p>0.4857142857142857</p></td>
<td><p>0.9754098360655737</p></td>
<td><p>0.6485013623978202</p></td>
<td><p>0.7860479464128327</p></td>
</tr>
</tbody>
</table>
</section>
<section id="desarrollo">
<h2>Desarrollo<a class="headerlink" href="#desarrollo" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="preprocesamiento-y-eda">
<h2>Preprocesamiento y EDA<a class="headerlink" href="#preprocesamiento-y-eda" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Las siguientes columnas se eliminarán del dataset por proteccion de datos personales.</span>
<span class="n">personal_info</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;AIDM&#39;</span><span class="p">,</span> <span class="s1">&#39;ID_WEB&#39;</span><span class="p">,</span> <span class="s1">&#39;PIDM&#39;</span><span class="p">,</span> <span class="s1">&#39;PERIODO&#39;</span><span class="p">,</span> <span class="s1">&#39;NUM_SOLICITUD&#39;</span><span class="p">,</span> <span class="s1">&#39;APELLIDOS&#39;</span><span class="p">,</span> <span class="s1">&#39;PRIMER_NOMBRE&#39;</span><span class="p">,</span> <span class="s1">&#39;SEGUNDO_NOMBRE&#39;</span><span class="p">,</span> <span class="s1">&#39;FECHA_NACIMIENTO&#39;</span><span class="p">,</span> <span class="s1">&#39;TIPO_DOCUMENTO&#39;</span><span class="p">,</span> <span class="s1">&#39;No_DOCUMENTO&#39;</span><span class="p">,</span> <span class="s1">&#39;LUGAR_EXPEDICION&#39;</span><span class="p">,</span> <span class="s1">&#39;FECHA_EXPEDICION&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_DIRECCION_1&#39;</span><span class="p">,</span> <span class="s1">&#39;DIRECCION1_LINEA1&#39;</span><span class="p">,</span> <span class="s1">&#39;DIRECCION1_LINEA2&#39;</span><span class="p">,</span> <span class="s1">&#39;DIRECCION1_LINEA3&#39;</span><span class="p">,</span> <span class="s1">&#39;TEL_PERMANENTE&#39;</span><span class="p">,</span> <span class="s1">&#39;CELULAR&#39;</span><span class="p">,</span> <span class="s1">&#39;TEL_CASA_ACUDIENTE&#39;</span><span class="p">,</span> <span class="s1">&#39;TEL1_OFICINA&#39;</span><span class="p">,</span> <span class="s1">&#39;EMAIL_PARTICULAR&#39;</span><span class="p">,</span> <span class="s1">&#39;EMAIL_UNINORTE&#39;</span><span class="p">,</span> <span class="s1">&#39;NIVEL&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_ESTADO_SOLICITUD&#39;</span><span class="p">,</span> <span class="s1">&#39;FECHA_ESTADO_SOLICITUD&#39;</span><span class="p">,</span> <span class="s1">&#39;TIPO_ADMISION&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_TIPO_ADMISION&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_TIPO_ESTUDIANTE&#39;</span><span class="p">,</span> <span class="s1">&#39;PERIODO_CATALOGO&#39;</span><span class="p">,</span> <span class="s1">&#39;PROGRAMA1&#39;</span><span class="p">,</span> <span class="s1">&#39;Div1&#39;</span><span class="p">,</span> <span class="s1">&#39;ESPECIALIDAD1_1&#39;</span><span class="p">,</span> <span class="s1">&#39;ESPECIALIDAD2_1&#39;</span><span class="p">,</span> <span class="s1">&#39;SEGUNDA_OPCION&#39;</span><span class="p">,</span> <span class="s1">&#39;PROGRAMA2_SGASTDN&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_PROGRAMA2_SGASTDN&#39;</span><span class="p">,</span> <span class="s1">&#39;COD_BACHILLERATO&#39;</span><span class="p">,</span> <span class="s1">&#39;SNP&#39;</span><span class="p">,</span> <span class="s1">&#39;ESPECIALIDAD_ANT_1&#39;</span><span class="p">,</span> <span class="s1">&#39;ESPECIALIDAD_ANT_2&#39;</span><span class="p">,</span> <span class="s1">&#39;EMAIL_EMAIL_MADRE&#39;</span><span class="p">,</span> <span class="s1">&#39;EMAIL_PADRE&#39;</span><span class="p">,</span> <span class="s1">&#39;TELEFONO_MADRE&#39;</span><span class="p">,</span> <span class="s1">&#39;TELEFONO_PADRE&#39;</span><span class="p">,</span> <span class="s1">&#39;NUMERO_PASAPORTE&#39;</span><span class="p">,</span> <span class="s1">&#39;PAIS_PASAPORTE&#39;</span><span class="p">,</span> <span class="s1">&#39;FECHA_VENCIMIENTO_PASAPORTE&#39;</span><span class="p">,</span> <span class="s1">&#39;TIPO_VISA&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_VISA&#39;</span><span class="p">,</span> <span class="s1">&#39;NUMERO_VISA&#39;</span><span class="p">,</span> <span class="s1">&#39;FECHA_INICIO_VISA&#39;</span><span class="p">,</span> <span class="s1">&#39;FECHA_VENCIMIENTO_VISA&#39;</span><span class="p">,</span> <span class="s1">&#39;Quiere_Vacacional&#39;</span><span class="p">,</span> <span class="s1">&#39;RETENCION_DB&#39;</span><span class="p">,</span> <span class="s1">&#39;FECHA_RETENCION_DB&#39;</span><span class="p">,</span> <span class="s1">&#39;TARIFA_SGASTDN&#39;</span><span class="p">,</span> <span class="s1">&#39;doc_presento_icfes&#39;</span><span class="p">,</span> <span class="s1">&#39;EPS&#39;</span><span class="p">,</span> <span class="s1">&#39;NOMBRE_MADRE&#39;</span><span class="p">,</span> <span class="s1">&#39;TELEFONO_MADRE_&#39;</span><span class="p">,</span> <span class="s1">&#39;NOMBRE_PADRE&#39;</span><span class="p">,</span> <span class="s1">&#39;CODIGO_DANE&#39;</span><span class="p">,</span><span class="s1">&#39;TELEFONO_PADRE_&#39;</span><span class="p">,</span> <span class="s1">&#39;NOMBRE_ACUDIENTE&#39;</span><span class="p">,</span> <span class="s1">&#39;CORREO_ACUDIENTE&#39;</span><span class="p">,</span> <span class="s1">&#39;Program_Insc&#39;</span><span class="p">,</span> <span class="s1">&#39;Zip1&#39;</span><span class="p">,</span><span class="s1">&#39;CLASE&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<section id="lectura-del-dataset">
<h3>Lectura del Dataset<a class="headerlink" href="#lectura-del-dataset" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;data_inscripciones.csv&#39;</span>
<span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="nb">dir</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1">#Elimino columnas por protección de datos personales y otras variables irrelevantes para este estudio.</span>
<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">personal_info</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="analisis-exploratorio">
<h3>Analisis Exploratorio<a class="headerlink" href="#analisis-exploratorio" title="Permalink to this heading">#</a></h3>
<p>Tamaño del dataframe</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(76214, 67)
</pre></div>
</div>
</div>
</div>
<p>Contenido del dataframe</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DISCAPACIDAD</th>
      <th>IND_COMPLETA</th>
      <th>IND_ACEPTADA</th>
      <th>Ind_Sol_01_69_75</th>
      <th>ULTIMO_PERIODO_ACADEMICO</th>
      <th>IND_MATRICULADO</th>
      <th>CODIGO</th>
      <th>EDAD</th>
      <th>SEXO</th>
      <th>CIUDADANIA</th>
      <th>...</th>
      <th>DPTO_NACIMIENTO</th>
      <th>PAIS_NACIMIENTO</th>
      <th>PAIS_NACIONALIDAD</th>
      <th>IDIOMA_NATIVO</th>
      <th>GRUPO_ETNICO</th>
      <th>Beneficiario_Beca_Gobierno</th>
      <th>FECHA_CREACION_INSC</th>
      <th>FECHA_FINALIZACION_INSC</th>
      <th>ATRIBUTO_SGASADD</th>
      <th>Promedio_Notas_Bachillerato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>Y</td>
      <td>N</td>
      <td>N</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200091046.0</td>
      <td>24.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Atlántico</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td></td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>Y</td>
      <td>N</td>
      <td>N</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200091019.0</td>
      <td>24.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Bolivar</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td></td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>00: Ninguno</td>
      <td>Y</td>
      <td>Y</td>
      <td>N</td>
      <td>202030.0</td>
      <td>S</td>
      <td>200090886.0</td>
      <td>23.0</td>
      <td>M</td>
      <td>C</td>
      <td>...</td>
      <td>Bolivar</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td>Afrocolombianos</td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>Y</td>
      <td>Y</td>
      <td>N</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200090864.0</td>
      <td>25.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Cordoba</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td></td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>00: Ninguno</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>201610.0</td>
      <td>S</td>
      <td>200019700.0</td>
      <td>32.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Atlántico</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td>No aplica--</td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 67 columns</p>
</div></div></div>
</div>
<p>Columnas o ´Features´ que contiene mi dataframe</p>
<p>Revision de tipos de datos y nulos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">prettytable</span> <span class="kn">import</span> <span class="n">PrettyTable</span>
<span class="k">def</span> <span class="nf">df_explore</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="c1">#Description table of the main characteristics of each column from a dataset</span>
    <span class="nb">print</span><span class="p">(</span> <span class="s1">&#39;Shape: &#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">PrettyTable</span><span class="p">([</span><span class="s1">&#39;Column&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Type&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Non-Null&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Nulls&#39;</span><span class="p">,</span>
                     <span class="s1">&#39;Unique&#39;</span><span class="p">,</span>
                     <span class="p">])</span>

    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">t</span><span class="o">.</span><span class="n">add_row</span><span class="p">([</span><span class="n">c</span><span class="p">,</span>
                   <span class="n">df</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span>
                   <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">c</span><span class="p">])</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()),</span>
                   <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">isna</span><span class="p">()),</span>
                   <span class="n">np</span><span class="o">.</span><span class="n">count_nonzero</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()),</span>

                  <span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>
    <span class="k">return</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_explore</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Shape:  (76214, 67)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>+-----------------------------+---------+----------+-------+--------+
|            Column           |   Type  | Non-Null | Nulls | Unique |
+-----------------------------+---------+----------+-------+--------+
|         DISCAPACIDAD        |  object |  69846   |  6368 |   14   |
|         IND_COMPLETA        |  object |  76214   |   0   |   4    |
|         IND_ACEPTADA        |  object |  76214   |   0   |   4    |
|       Ind_Sol_01_69_75      |  object |  76214   |   0   |   4    |
|   ULTIMO_PERIODO_ACADEMICO  | float64 |  34562   | 41652 |   58   |
|       IND_MATRICULADO       |  object |  29216   | 46998 |   4    |
|            CODIGO           | float64 |  76214   |   0   | 59754  |
|             EDAD            |  object |  76206   |   8   |   83   |
|             SEXO            |  object |  76211   |   3   |   7    |
|          CIUDADANIA         |  object |  76206   |   8   |   5    |
|          ATRIBUTOS          |  object |  40188   | 36026 |  523   |
|          DESC_DPTO1         |  object |  75849   |  365  |  102   |
|       DESC_MUNICIPIO1       |  object |  75850   |  364  |  496   |
|          DESC_PAIS1         |  object |  75849   |  365  |   24   |
|       FECHA_SOLICITUD       |  object |  76210   |   4   |  1631  |
|       ESTADO_SOLICITUD      |  object |  76210   |   4   |   4    |
|       TIPO_ESTUDIANTE       |  object |  76210   |   4   |   6    |
|             TASA            | float64 |  76121   |   93  |   51   |
|        DESC_PROGRAMA1       |  object |  76210   |   4   |   32   |
|        Desc_Division1       |  object |  76210   |   4   |   11   |
|           ESTRATO           |  object |  75152   |  1062 |   15   |
|      DESC_BACHILLERATO      |  object |  75956   |  258  |  3704  |
|     CIUDAD_BACHILLERATO     |  object |  76056   |  158  |  627   |
|    DESC_DPTO_BACHILLERATO   |  object |  76055   |  159  |  146   |
|    DESC_PAIS_BACHILLERATO   |  object |  76055   |  159  |   38   |
|   FECHA_GRADO_BCHILLERATO   |  object |   3712   | 72502 |  560   |
|       PERCENTIL_GLOBAL      | float64 |  55865   | 20349 |  101   |
|       COLEGIO_PRIVADO       |  object |  46205   | 30009 |   4    |
|       COLEGIO_PUBLICO       |  object |  22034   | 54180 |   4    |
|       COLEGIO_BILINGUE      |  object |   6840   | 69374 |   4    |
|       U_TRANS_EXTERNA       |  object |  12631   | 63583 |  163   |
|        DESC_EXAMEN11        |  object |    56    | 76158 |   3    |
|          PUNTAJE11          |  object |    56    | 76158 |   49   |
|        DESC_EXAMEN13        |  object |  73738   |  2476 |   2    |
|          PUNTAJE13          | float64 |  73738   |  2476 |  333   |
|        DESC_EXAMEN14        |  object |  73719   |  2495 |   2    |
|          PUNTAJE14          | float64 |  73719   |  2495 |   88   |
|            Rango            |  object |  76210   |   4   |   88   |
|        DESC_EXAMEN15        |  object |  73719   |  2495 |   2    |
|          PUNTAJE15          | float64 |  73719   |  2495 |   81   |
|        DESC_EXAMEN16        |  object |  73718   |  2496 |   2    |
|          PUNTAJE16          |  object |  73720   |  2494 |  153   |
|        DESC_EXAMEN17        |  object |  73721   |  2493 |   3    |
|          PUNTAJE17          |  object |  73721   |  2493 |  141   |
|        DESC_EXAMEN18        |  object |  73675   |  2539 |   2    |
|          PUNTAJE18          |  object |  73675   |  2539 |  194   |
|      PRUEBA_EXTRANJERA      |  object |   287    | 75927 |  175   |
|        TIPO_DECISION        |  object |  67156   |  9058 |   55   |
|        DESC_DECISION        |  object |  67154   |  9060 |   50   |
|   FECHA_DECISION_SOLICITUD  |  object |  67154   |  9060 |  871   |
|       ESTADO_ACADEMICO      |  object |  31356   | 44858 |   14   |
|           PROMEDIO          |  object |  31725   | 44489 |  341   |
|      PROGRAMA_ANTERIOR      |  object |  22327   | 53887 |  105   |
|          PAGO_01_02         |  object |  76210   |   4   |   4    |
|    VENCIMIENTO_PAGO_01_02   |  object |  33630   | 42584 |  700   |
|           PAGO_03           |  object |  28430   | 47784 |   3    |
|      CIUDAD_NACIMIENTO      |  object |  76070   |  144  |  723   |
|       DPTO_NACIMIENTO       |  object |  76070   |  144  |  190   |
|       PAIS_NACIMIENTO       |  object |  76146   |   68  |   42   |
|      PAIS_NACIONALIDAD      |  object |  76146   |   68  |   32   |
|        IDIOMA_NATIVO        |  object |  75845   |  369  |   13   |
|         GRUPO_ETNICO        |  object |  76210   |   4   |   66   |
|  Beneficiario_Beca_Gobierno |  object |  76210   |   4   |   3    |
|     FECHA_CREACION_INSC     |  object |  15385   | 60829 |  602   |
|   FECHA_FINALIZACION_INSC   |  object |  15385   | 60829 |  599   |
|       ATRIBUTO_SGASADD      |  object |   348    | 75866 |   2    |
| Promedio_Notas_Bachillerato |  object |   2061   | 74153 |  1204  |
+-----------------------------+---------+----------+-------+--------+
</pre></div>
</div>
</div>
</div>
<p>RENOMBRAMOS COLUMNAS</p>
<p>Las columnas que se llaman <code class="docutils literal notranslate"><span class="pre">DESC_EXAMEN</span></code> en realidad contienen el nombre del área evaluada en la prueba SABER 11 cuyo resultado está en la columna <code class="docutils literal notranslate"><span class="pre">Puntaje</span></code>. Eliminaremos las columnas DESC_EXAMEN y ajustaremos los nombres de las columnas <code class="docutils literal notranslate"><span class="pre">puntaje</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span>
    <span class="s1">&#39;PUNTAJE13&#39;</span><span class="p">:</span> <span class="s1">&#39;GLOBAL&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PUNTAJE14&#39;</span><span class="p">:</span> <span class="s1">&#39;MATEMATICAS&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PUNTAJE15&#39;</span><span class="p">:</span> <span class="s1">&#39;LECTURA&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PUNTAJE16&#39;</span><span class="p">:</span> <span class="s1">&#39;SOCIALES&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PUNTAJE17&#39;</span><span class="p">:</span> <span class="s1">&#39;NATURALES&#39;</span><span class="p">,</span>
    <span class="s1">&#39;PUNTAJE18&#39;</span><span class="p">:</span> <span class="s1">&#39;INGLES&#39;</span>
<span class="p">},</span>
<span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>ELIMINAMOS IRRELEVANTES</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">col_del</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;DESC_EXAMEN13&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_EXAMEN14&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_EXAMEN15&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_EXAMEN16&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_EXAMEN17&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_EXAMEN18&#39;</span><span class="p">]</span>
<span class="n">df</span><span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">col_del</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DISCAPACIDAD</th>
      <th>IND_COMPLETA</th>
      <th>IND_ACEPTADA</th>
      <th>Ind_Sol_01_69_75</th>
      <th>ULTIMO_PERIODO_ACADEMICO</th>
      <th>IND_MATRICULADO</th>
      <th>CODIGO</th>
      <th>EDAD</th>
      <th>SEXO</th>
      <th>CIUDADANIA</th>
      <th>...</th>
      <th>DPTO_NACIMIENTO</th>
      <th>PAIS_NACIMIENTO</th>
      <th>PAIS_NACIONALIDAD</th>
      <th>IDIOMA_NATIVO</th>
      <th>GRUPO_ETNICO</th>
      <th>Beneficiario_Beca_Gobierno</th>
      <th>FECHA_CREACION_INSC</th>
      <th>FECHA_FINALIZACION_INSC</th>
      <th>ATRIBUTO_SGASADD</th>
      <th>Promedio_Notas_Bachillerato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>Y</td>
      <td>N</td>
      <td>N</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200091046.0</td>
      <td>24.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Atlántico</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td></td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>Y</td>
      <td>N</td>
      <td>N</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200091019.0</td>
      <td>24.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Bolivar</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td></td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>00: Ninguno</td>
      <td>Y</td>
      <td>Y</td>
      <td>N</td>
      <td>202030.0</td>
      <td>S</td>
      <td>200090886.0</td>
      <td>23.0</td>
      <td>M</td>
      <td>C</td>
      <td>...</td>
      <td>Bolivar</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td>Afrocolombianos</td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>Y</td>
      <td>Y</td>
      <td>N</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200090864.0</td>
      <td>25.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Cordoba</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td></td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>00: Ninguno</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>201610.0</td>
      <td>S</td>
      <td>200019700.0</td>
      <td>32.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Atlántico</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td>No aplica--</td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 61 columns</p>
</div></div></div>
</div>
<p>De lo anterior, noto que existen diferentes tipos de estudiantes en el dataset. En este caso, nos interesa solo analizar a los estudiantes que son Nuevos Ingresos (Es decir, tipo 1) y que ingresaron al programa de Geología.  Revisemos y filtremos la data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TIPO_ESTUDIANTE&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TIPO_ESTUDIANTE
1    64259
2     4914
3     3428
4     2784
T      825
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DESC_PROGRAMA1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DESC_PROGRAMA1
Medicina                         11882
Ingeniería Industrial             5276
Derecho                           5136
Ingeniería Civil                  5123
Psicología                        4892
Administración de Empresas        4827
Negocios Internacionales          4144
Ingeniería de Sistemas            3996
Comunicación Social y Period.     3500
Ingeniería Mecánica               3407
Arquitectura                      2768
Contaduría Pública                2552
Enfermería                        2121
Diseño Gráfico                    1947
Ingeniería Electrónica            1853
Relaciones Internacionales        1836
Odontología                       1655
Geología                          1557
Lenguas Modernas y Cultura        1473
Ingeniería Eléctrica              1126
Economía                          1093
Ciencia Política y Gobierno       1017
Música                             742
Diseño Industrial                  717
Lic. en Pedagog Infantil (4)       641
Matemáticas                        332
Filosofía y Humanidades            257
Ciencia de Datos                   205
Lic. en Educación Infantil          82
Lic. Matemáticas                    31
Lic. Filosofía y Humanidades        22
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Nuevo dataset que incluye solo a los estudiantes nuevos que aspiraron a ingresar al programa de Geología y que completaron el proceso de inscripción</p>
<p>SEGMENTAMOS LA INFORMACION QUE NECESITAMOS</p>
<p>Sólo estudiantes de Geología, que sean de tipo Nuevo Ingreso y cuya solicitud de admisión se encuentre Decidida.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">=</span><span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;DESC_PROGRAMA1&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;Geología&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;TIPO_ESTUDIANTE&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;1&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;ESTADO_SOLICITUD&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;D&#39;</span><span class="p">)]</span>
<span class="n">geodf</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">geodf</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;geodf.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">geodf</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DISCAPACIDAD</th>
      <th>IND_COMPLETA</th>
      <th>IND_ACEPTADA</th>
      <th>Ind_Sol_01_69_75</th>
      <th>ULTIMO_PERIODO_ACADEMICO</th>
      <th>IND_MATRICULADO</th>
      <th>CODIGO</th>
      <th>EDAD</th>
      <th>SEXO</th>
      <th>CIUDADANIA</th>
      <th>...</th>
      <th>DPTO_NACIMIENTO</th>
      <th>PAIS_NACIMIENTO</th>
      <th>PAIS_NACIONALIDAD</th>
      <th>IDIOMA_NATIVO</th>
      <th>GRUPO_ETNICO</th>
      <th>Beneficiario_Beca_Gobierno</th>
      <th>FECHA_CREACION_INSC</th>
      <th>FECHA_FINALIZACION_INSC</th>
      <th>ATRIBUTO_SGASADD</th>
      <th>Promedio_Notas_Bachillerato</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200091769.0</td>
      <td>24.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Antioquía</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td></td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200092063.0</td>
      <td>25.0</td>
      <td>M</td>
      <td>C</td>
      <td>...</td>
      <td>Atlántico</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td></td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>NaN</td>
      <td>Y</td>
      <td>Y</td>
      <td>N</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200092012.0</td>
      <td>24.0</td>
      <td>M</td>
      <td>C</td>
      <td>...</td>
      <td>Atlántico</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td></td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200091358.0</td>
      <td>24.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Sucre</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td></td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>00: Ninguno</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200089367.0</td>
      <td>24.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Atlántico</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td>No aplica--</td>
      <td>No</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1227</th>
      <td>00: Ninguno</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200194719.0</td>
      <td>21.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>Cordoba</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td>No aplica--</td>
      <td>No</td>
      <td>13/09/2022</td>
      <td>13/09/2022</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1228</th>
      <td>00: Ninguno</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200198550.0</td>
      <td>17.0</td>
      <td>F</td>
      <td>C</td>
      <td>...</td>
      <td>La Guajira</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td>Wayuu</td>
      <td>No</td>
      <td>26/11/2022</td>
      <td>29/11/2022</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1229</th>
      <td>00: Ninguno</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200199014.0</td>
      <td>17.0</td>
      <td>M</td>
      <td>C</td>
      <td>...</td>
      <td>Atlántico</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td>No aplica--</td>
      <td>No</td>
      <td>27/11/2022</td>
      <td>30/11/2022</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1230</th>
      <td>00: Ninguno</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200198945.0</td>
      <td>17.0</td>
      <td>M</td>
      <td>C</td>
      <td>...</td>
      <td>La Guajira</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td>No aplica--</td>
      <td>No</td>
      <td>30/11/2022</td>
      <td>30/11/2022</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1231</th>
      <td>00: Ninguno</td>
      <td>Y</td>
      <td>Y</td>
      <td>Y</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>200194901.0</td>
      <td>19.0</td>
      <td>M</td>
      <td>C</td>
      <td>...</td>
      <td>Atlántico</td>
      <td>Colombia</td>
      <td>Colombia</td>
      <td>Español</td>
      <td>No aplica--</td>
      <td>No</td>
      <td>16/09/2022</td>
      <td>19/09/2022</td>
      <td>NaN</td>
      <td>83,25</td>
    </tr>
  </tbody>
</table>
<p>1232 rows × 61 columns</p>
</div></div></div>
</div>
</section>
<section id="identificacion-de-datos-nulos">
<h3>Identificacion de datos nulos<a class="headerlink" href="#identificacion-de-datos-nulos" title="Permalink to this heading">#</a></h3>
<p>Revisamos el nuevo dataset, ahora vamos a identificar columnas con gran cantidad de datos nulos</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_explore</span><span class="p">(</span><span class="n">geodf</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Shape:  (1232, 61)
+-----------------------------+---------+----------+-------+--------+
|            Column           |   Type  | Non-Null | Nulls | Unique |
+-----------------------------+---------+----------+-------+--------+
|         DISCAPACIDAD        |  object |   1157   |   75  |   5    |
|         IND_COMPLETA        |  object |   1232   |   0   |   1    |
|         IND_ACEPTADA        |  object |   1232   |   0   |   2    |
|       Ind_Sol_01_69_75      |  object |   1232   |   0   |   2    |
|   ULTIMO_PERIODO_ACADEMICO  | float64 |   563    |  669  |   19   |
|       IND_MATRICULADO       |  object |   487    |  745  |   2    |
|            CODIGO           | float64 |   1232   |   0   |  1113  |
|             EDAD            |  object |   1232   |   0   |   30   |
|             SEXO            |  object |   1232   |   0   |   2    |
|          CIUDADANIA         |  object |   1232   |   0   |   2    |
|          ATRIBUTOS          |  object |   839    |  393  |   85   |
|          DESC_DPTO1         |  object |   1230   |   2   |   27   |
|       DESC_MUNICIPIO1       |  object |   1230   |   2   |  129   |
|          DESC_PAIS1         |  object |   1230   |   2   |   2    |
|       FECHA_SOLICITUD       |  object |   1232   |   0   |  468   |
|       ESTADO_SOLICITUD      |  object |   1232   |   0   |   1    |
|       TIPO_ESTUDIANTE       |  object |   1232   |   0   |   1    |
|             TASA            | float64 |   1232   |   0   |   16   |
|        DESC_PROGRAMA1       |  object |   1232   |   0   |   1    |
|        Desc_Division1       |  object |   1232   |   0   |   1    |
|           ESTRATO           |  object |   1232   |   0   |   12   |
|      DESC_BACHILLERATO      |  object |   1229   |   3   |  537   |
|     CIUDAD_BACHILLERATO     |  object |   1232   |   0   |  138   |
|    DESC_DPTO_BACHILLERATO   |  object |   1232   |   0   |   29   |
|    DESC_PAIS_BACHILLERATO   |  object |   1232   |   0   |   3    |
|   FECHA_GRADO_BCHILLERATO   |  object |    10    |  1222 |   11   |
|       PERCENTIL_GLOBAL      | float64 |   1050   |  182  |   70   |
|       COLEGIO_PRIVADO       |  object |   592    |  640  |   2    |
|       COLEGIO_PUBLICO       |  object |   460    |  772  |   2    |
|       COLEGIO_BILINGUE      |  object |    22    |  1210 |   2    |
|       U_TRANS_EXTERNA       |  object |   191    |  1041 |   7    |
|        DESC_EXAMEN11        |  object |    1     |  1231 |   2    |
|          PUNTAJE11          |  object |    1     |  1231 |   2    |
|            GLOBAL           | float64 |   1220   |   12  |  182   |
|         MATEMATICAS         | float64 |   1220   |   12  |   55   |
|            Rango            |  object |   1232   |   0   |   27   |
|           LECTURA           | float64 |   1220   |   12  |   52   |
|           SOCIALES          |  object |   1220   |   12  |   91   |
|          NATURALES          |  object |   1220   |   12  |   84   |
|            INGLES           |  object |   1220   |   12  |   88   |
|      PRUEBA_EXTRANJERA      |  object |    0     |  1232 |   1    |
|        TIPO_DECISION        |  object |   1232   |   0   |   10   |
|        DESC_DECISION        |  object |   1232   |   0   |   9    |
|   FECHA_DECISION_SOLICITUD  |  object |   1232   |   0   |  159   |
|       ESTADO_ACADEMICO      |  object |   484    |  748  |   6    |
|           PROMEDIO          |  object |   486    |  746  |  165   |
|      PROGRAMA_ANTERIOR      |  object |   187    |  1045 |   30   |
|          PAGO_01_02         |  object |   1232   |   0   |   3    |
|    VENCIMIENTO_PAGO_01_02   |  object |   593    |  639  |  147   |
|           PAGO_03           |  object |   613    |  619  |   3    |
|      CIUDAD_NACIMIENTO      |  object |   1231   |   1   |  144   |
|       DPTO_NACIMIENTO       |  object |   1231   |   1   |   38   |
|       PAIS_NACIMIENTO       |  object |   1232   |   0   |   8    |
|      PAIS_NACIONALIDAD      |  object |   1232   |   0   |   4    |
|        IDIOMA_NATIVO        |  object |   1232   |   0   |   1    |
|         GRUPO_ETNICO        |  object |   1232   |   0   |   14   |
|  Beneficiario_Beca_Gobierno |  object |   1232   |   0   |   2    |
|     FECHA_CREACION_INSC     |  object |   188    |  1044 |  138   |
|   FECHA_FINALIZACION_INSC   |  object |   188    |  1044 |  120   |
|       ATRIBUTO_SGASADD      |  object |    0     |  1232 |   1    |
| Promedio_Notas_Bachillerato |  object |    23    |  1209 |   19   |
+-----------------------------+---------+----------+-------+--------+
</pre></div>
</div>
</div>
</div>
</section>
<section id="manejo-de-datos-nulos">
<h3>Manejo de datos Nulos<a class="headerlink" href="#manejo-de-datos-nulos" title="Permalink to this heading">#</a></h3>
<p>De la  anterior tabla, llama la atención que:</p>
<ul class="simple">
<li><p>En la categorización de colegios hay muchos datos nulos.</p></li>
<li><p>Existen 2 columnas con la misma información, <code class="docutils literal notranslate"><span class="pre">'COLEGIO_PRIVADO'</span></code> y <code class="docutils literal notranslate"><span class="pre">'COLEGIO_PUBLICO'</span></code>, son excluyentes entre sí, por lo que puedo asumir que si un colegio NO es privado, entonces es Público. Entonces nos quedaremos con una sola y reemplazaremos los nulos por la categoría que corresponde.</p></li>
<li><p>Respecto a <code class="docutils literal notranslate"><span class="pre">'COLEGIO_BILINGUE'</span></code>, podemos afirmar que los valores nulos corresponden a que el colegio NO es bilingue, por lo que procederemos a arreglar los valores por reemplazo.</p></li>
<li><p>Este mismo tratamiento le daremos a columnas como <code class="docutils literal notranslate"><span class="pre">'ATRIBUTOS'</span></code> , <code class="docutils literal notranslate"><span class="pre">'INDICE</span> <span class="pre">DE</span> <span class="pre">MATRICULADOS'</span></code>, <code class="docutils literal notranslate"><span class="pre">'TIPO_DECISION'</span></code>, <code class="docutils literal notranslate"><span class="pre">'DESC_DECISION'</span></code>, <code class="docutils literal notranslate"><span class="pre">'DISCAPACIDAD'</span></code>.</p></li>
<li><p>Las demás columnas <strong>con mas de 600 datos nulos</strong>, las eliminaremos del estudio.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">l</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;COLEGIO_PRIVADO&#39;</span><span class="p">,</span><span class="s1">&#39;COLEGIO_PUBLICO&#39;</span><span class="p">,</span><span class="s1">&#39;COLEGIO_BILINGUE&#39;</span><span class="p">,</span><span class="s1">&#39;DISCAPACIDAD&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span> <span class="n">geodf</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="s1">&#39;--------------------&#39;</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>COLEGIO_PRIVADO
NaN    640
Y      592
Name: count, dtype: int64 
 -------------------- 

COLEGIO_PUBLICO
NaN    772
Y      460
Name: count, dtype: int64 
 -------------------- 

COLEGIO_BILINGUE
NaN    1210
Y        22
Name: count, dtype: int64 
 -------------------- 

DISCAPACIDAD
00: Ninguno                          1127
NaN                                    75
04:Sensorial - Baja Visión             26
09:Discapacidad Física o motora         3
11:Trastorno del Espectro Autista       1
Name: count, dtype: int64 
 -------------------- 
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>En discapacidad asumimos que NaN es que no tiene discapacidad. Reemplazamos.</p></li>
<li><p>En <code class="docutils literal notranslate"><span class="pre">'ATRIBUTOS'</span></code> , <code class="docutils literal notranslate"><span class="pre">'INDICE</span> <span class="pre">DE</span> <span class="pre">MATRICULADOS'</span></code>, <code class="docutils literal notranslate"><span class="pre">'TIPO_DECISION'</span></code>, <code class="docutils literal notranslate"><span class="pre">'DESC_DECISION'</span></code>asumimos que si no es una Y, es un N</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;COLEGIO_PUBLICO&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;DISCAPACIDAD&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;00: Ninguno&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">replace</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;IND_MATRICULADO&#39;</span><span class="p">,</span><span class="s1">&#39;ATRIBUTOS&#39;</span><span class="p">,</span> <span class="s1">&#39;COLEGIO_PRIVADO&#39;</span><span class="p">,</span> <span class="s1">&#39;COLEGIO_BILINGUE&#39;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">replace</span><span class="p">:</span>
  <span class="n">geodf</span><span class="p">[</span><span class="n">variable</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DISCAPACIDAD                      0
IND_COMPLETA                      0
IND_ACEPTADA                      0
Ind_Sol_01_69_75                  0
ULTIMO_PERIODO_ACADEMICO        669
IND_MATRICULADO                   0
CODIGO                            0
EDAD                              0
SEXO                              0
CIUDADANIA                        0
ATRIBUTOS                         0
DESC_DPTO1                        2
DESC_MUNICIPIO1                   2
DESC_PAIS1                        2
FECHA_SOLICITUD                   0
ESTADO_SOLICITUD                  0
TIPO_ESTUDIANTE                   0
TASA                              0
DESC_PROGRAMA1                    0
Desc_Division1                    0
ESTRATO                           0
DESC_BACHILLERATO                 3
CIUDAD_BACHILLERATO               0
DESC_DPTO_BACHILLERATO            0
DESC_PAIS_BACHILLERATO            0
FECHA_GRADO_BCHILLERATO        1222
PERCENTIL_GLOBAL                182
COLEGIO_PRIVADO                   0
COLEGIO_BILINGUE                  0
U_TRANS_EXTERNA                1041
DESC_EXAMEN11                  1231
PUNTAJE11                      1231
GLOBAL                           12
MATEMATICAS                      12
Rango                             0
LECTURA                          12
SOCIALES                         12
NATURALES                        12
INGLES                           12
PRUEBA_EXTRANJERA              1232
TIPO_DECISION                     0
DESC_DECISION                     0
FECHA_DECISION_SOLICITUD          0
ESTADO_ACADEMICO                748
PROMEDIO                        746
PROGRAMA_ANTERIOR              1045
PAGO_01_02                        0
VENCIMIENTO_PAGO_01_02          639
PAGO_03                         619
CIUDAD_NACIMIENTO                 1
DPTO_NACIMIENTO                   1
PAIS_NACIMIENTO                   0
PAIS_NACIONALIDAD                 0
IDIOMA_NATIVO                     0
GRUPO_ETNICO                      0
Beneficiario_Beca_Gobierno        0
FECHA_CREACION_INSC            1044
FECHA_FINALIZACION_INSC        1044
ATRIBUTO_SGASADD               1232
Promedio_Notas_Bachillerato    1209
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(1232, 60)
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Buscamos y eliminamos columnas con mas de 600 datos nulos.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Encuentra y elimina las columnas con más de 600 datos nulos</span>
<span class="n">nulls</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">geodf</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="p">)</span><span class="c1"># Para conocer los nulos por columnas</span>
<span class="n">delete</span><span class="o">=</span><span class="n">nulls</span><span class="p">[</span><span class="n">nulls</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">600</span><span class="p">]</span> <span class="c1">#Columnas con mas de 1000 datos nulos podrían ser eliminadas</span>
<span class="n">delete</span><span class="o">=</span><span class="n">delete</span><span class="o">.</span><span class="n">index</span>
<span class="n">delete</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;ULTIMO_PERIODO_ACADEMICO&#39;, &#39;FECHA_GRADO_BCHILLERATO&#39;,
       &#39;U_TRANS_EXTERNA&#39;, &#39;DESC_EXAMEN11&#39;, &#39;PUNTAJE11&#39;, &#39;PRUEBA_EXTRANJERA&#39;,
       &#39;ESTADO_ACADEMICO&#39;, &#39;PROMEDIO&#39;, &#39;PROGRAMA_ANTERIOR&#39;,
       &#39;VENCIMIENTO_PAGO_01_02&#39;, &#39;PAGO_03&#39;, &#39;FECHA_CREACION_INSC&#39;,
       &#39;FECHA_FINALIZACION_INSC&#39;, &#39;ATRIBUTO_SGASADD&#39;,
       &#39;Promedio_Notas_Bachillerato&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">delete</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nulos</span><span class="o">=</span> <span class="n">geodf</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">nulos</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DISCAPACIDAD                    0
IND_COMPLETA                    0
IND_ACEPTADA                    0
Ind_Sol_01_69_75                0
IND_MATRICULADO                 0
CODIGO                          0
EDAD                            0
SEXO                            0
CIUDADANIA                      0
ATRIBUTOS                       0
DESC_DPTO1                      2
DESC_MUNICIPIO1                 2
DESC_PAIS1                      2
FECHA_SOLICITUD                 0
ESTADO_SOLICITUD                0
TIPO_ESTUDIANTE                 0
TASA                            0
DESC_PROGRAMA1                  0
Desc_Division1                  0
ESTRATO                         0
DESC_BACHILLERATO               3
CIUDAD_BACHILLERATO             0
DESC_DPTO_BACHILLERATO          0
DESC_PAIS_BACHILLERATO          0
PERCENTIL_GLOBAL              182
COLEGIO_PRIVADO                 0
COLEGIO_BILINGUE                0
GLOBAL                         12
MATEMATICAS                    12
Rango                           0
LECTURA                        12
SOCIALES                       12
NATURALES                      12
INGLES                         12
TIPO_DECISION                   0
DESC_DECISION                   0
FECHA_DECISION_SOLICITUD        0
PAGO_01_02                      0
CIUDAD_NACIMIENTO               1
DPTO_NACIMIENTO                 1
PAIS_NACIMIENTO                 0
PAIS_NACIONALIDAD               0
IDIOMA_NATIVO                   0
GRUPO_ETNICO                    0
Beneficiario_Beca_Gobierno      0
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Revisemos que ocurre con las features que aún tienen datos nulos, empezando por las que tienen mayor cantidad:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nan</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">nulos</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">nulos</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
        <span class="n">nan</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="nb">print</span> <span class="p">(</span><span class="n">nan</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;DESC_DPTO1&#39;, &#39;DESC_MUNICIPIO1&#39;, &#39;DESC_PAIS1&#39;, &#39;DESC_BACHILLERATO&#39;, &#39;PERCENTIL_GLOBAL&#39;, &#39;GLOBAL&#39;, &#39;MATEMATICAS&#39;, &#39;LECTURA&#39;, &#39;SOCIALES&#39;, &#39;NATURALES&#39;, &#39;INGLES&#39;, &#39;CIUDAD_NACIMIENTO&#39;, &#39;DPTO_NACIMIENTO&#39;]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>para los features <code class="docutils literal notranslate"><span class="pre">'PERCENTIL_GLOBAL'</span></code>, <code class="docutils literal notranslate"><span class="pre">'GLOBAL'</span></code>, <code class="docutils literal notranslate"><span class="pre">'MATEMATICAS'</span></code>, <code class="docutils literal notranslate"><span class="pre">'LECTURA'</span></code>, <code class="docutils literal notranslate"><span class="pre">'SOCIALES'</span></code>, <code class="docutils literal notranslate"><span class="pre">'NATURALES'</span></code>, <code class="docutils literal notranslate"><span class="pre">'INGLES'</span></code> podríamos utilizar un metodo de imputación. Como estos features corresponden a resultados de pruebas SABER, son de caracter numérico y contínuo, podríamos utilizar la <strong>técnica KNN</strong> . Es decir, estimar los puntajes a través de la identificación de otros aspirantes que tengan características parecidas.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.impute</span> <span class="kn">import</span> <span class="n">KNNImputer</span>

<span class="n">l</span><span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PERCENTIL_GLOBAL&#39;</span><span class="p">,</span> <span class="s1">&#39;GLOBAL&#39;</span><span class="p">,</span> <span class="s1">&#39;MATEMATICAS&#39;</span><span class="p">,</span> <span class="s1">&#39;LECTURA&#39;</span><span class="p">,</span> <span class="s1">&#39;SOCIALES&#39;</span><span class="p">,</span> <span class="s1">&#39;NATURALES&#39;</span><span class="p">,</span> <span class="s1">&#39;INGLES&#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
  <span class="n">X</span> <span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
  <span class="n">imputer</span> <span class="o">=</span> <span class="n">KNNImputer</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="s2">&quot;distance&quot;</span><span class="p">)</span>
  <span class="n">geodf</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">=</span><span class="n">imputer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>done
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DISCAPACIDAD                  0
IND_COMPLETA                  0
IND_ACEPTADA                  0
Ind_Sol_01_69_75              0
IND_MATRICULADO               0
CODIGO                        0
EDAD                          0
SEXO                          0
CIUDADANIA                    0
ATRIBUTOS                     0
DESC_DPTO1                    2
DESC_MUNICIPIO1               2
DESC_PAIS1                    2
FECHA_SOLICITUD               0
ESTADO_SOLICITUD              0
TIPO_ESTUDIANTE               0
TASA                          0
DESC_PROGRAMA1                0
Desc_Division1                0
ESTRATO                       0
DESC_BACHILLERATO             3
CIUDAD_BACHILLERATO           0
DESC_DPTO_BACHILLERATO        0
DESC_PAIS_BACHILLERATO        0
PERCENTIL_GLOBAL              0
COLEGIO_PRIVADO               0
COLEGIO_BILINGUE              0
GLOBAL                        0
MATEMATICAS                   0
Rango                         0
LECTURA                       0
SOCIALES                      0
NATURALES                     0
INGLES                        0
TIPO_DECISION                 0
DESC_DECISION                 0
FECHA_DECISION_SOLICITUD      0
PAGO_01_02                    0
CIUDAD_NACIMIENTO             1
DPTO_NACIMIENTO               1
PAIS_NACIMIENTO               0
PAIS_NACIONALIDAD             0
IDIOMA_NATIVO                 0
GRUPO_ETNICO                  0
Beneficiario_Beca_Gobierno    0
dtype: int64
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Para estos individuos, asignamos como <code class="docutils literal notranslate"><span class="pre">DESC_DPTO1</span></code>, ‘DESC_MUNICIPIO1’ y ‘DESC_PAIS1’ los valores de Ciudad, Dpto y País de nacimiento</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define los códigos de interés</span>
<span class="n">codigos_interes</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;DESC_DPTO1&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()][</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Realiza las asignaciones en base a los códigos de interés</span>
<span class="n">geodf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">codigos_interes</span><span class="p">),</span> <span class="s1">&#39;DESC_DPTO1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;DPTO_NACIMIENTO&#39;</span><span class="p">]</span>
<span class="n">geodf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">codigos_interes</span><span class="p">),</span> <span class="s1">&#39;DESC_MUNICIPIO1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CIUDAD_NACIMIENTO&#39;</span><span class="p">]</span>
<span class="n">geodf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">codigos_interes</span><span class="p">),</span> <span class="s1">&#39;DESC_PAIS1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;PAIS_NACIMIENTO&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Para los valores nulos de <code class="docutils literal notranslate"><span class="pre">DESC_Bachillerato</span></code>, imputamos el valor de la <em>moda</em> para colegios de la ciudad de Bachillerato.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">codigos_interes</span><span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;DESC_BACHILLERATO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()][</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="k">for</span> <span class="n">codigo</span> <span class="ow">in</span> <span class="n">codigos_interes</span><span class="p">:</span>
    <span class="c1"># Encuentra la ciudad de bachillerato para el código actual</span>
    <span class="n">city</span> <span class="o">=</span> <span class="n">geodf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">codigo</span><span class="p">,</span> <span class="s1">&#39;CIUDAD_BACHILLERATO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Calcula la moda de DESC_BACHILLERATO para la ciudad de bachillerato actual</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CIUDAD_BACHILLERATO&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">city</span><span class="p">][</span><span class="s1">&#39;DESC_BACHILLERATO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mode</span><span class="p">()</span>

    <span class="c1"># Verifica si la moda está vacía (si no hay valores repetidos)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">mode</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="c1"># Asigna la moda al registro actual en DESC_BACHILLERATO</span>
        <span class="n">geodf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">codigo</span><span class="p">,</span> <span class="s1">&#39;DESC_BACHILLERATO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">mode</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">geodf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">codigo</span><span class="p">,</span> <span class="s1">&#39;DESC_BACHILLERATO&#39;</span><span class="p">]</span> <span class="o">=</span><span class="s1">&#39;Colegio_sin_identificar&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DISCAPACIDAD                  0
IND_COMPLETA                  0
IND_ACEPTADA                  0
Ind_Sol_01_69_75              0
IND_MATRICULADO               0
CODIGO                        0
EDAD                          0
SEXO                          0
CIUDADANIA                    0
ATRIBUTOS                     0
DESC_DPTO1                    0
DESC_MUNICIPIO1               0
DESC_PAIS1                    0
FECHA_SOLICITUD               0
ESTADO_SOLICITUD              0
TIPO_ESTUDIANTE               0
TASA                          0
DESC_PROGRAMA1                0
Desc_Division1                0
ESTRATO                       0
DESC_BACHILLERATO             0
CIUDAD_BACHILLERATO           0
DESC_DPTO_BACHILLERATO        0
DESC_PAIS_BACHILLERATO        0
PERCENTIL_GLOBAL              0
COLEGIO_PRIVADO               0
COLEGIO_BILINGUE              0
GLOBAL                        0
MATEMATICAS                   0
Rango                         0
LECTURA                       0
SOCIALES                      0
NATURALES                     0
INGLES                        0
TIPO_DECISION                 0
DESC_DECISION                 0
FECHA_DECISION_SOLICITUD      0
PAGO_01_02                    0
CIUDAD_NACIMIENTO             1
DPTO_NACIMIENTO               1
PAIS_NACIMIENTO               0
PAIS_NACIONALIDAD             0
IDIOMA_NATIVO                 0
GRUPO_ETNICO                  0
Beneficiario_Beca_Gobierno    0
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Finalmente para el estudiante con valor Nulo en Ciudad y Departamento de nacimiento, imputaremos la información de la ciudad y departamento del Bachillerato utilizando el mismo procedimiento anterior.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define los códigos de interés</span>
<span class="n">cod</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CIUDAD_NACIMIENTO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()][</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cod2</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;DPTO_NACIMIENTO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()][</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Realiza las asignaciones en base a los códigos de interés</span>
<span class="n">geodf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span><span class="o">==</span><span class="n">cod</span><span class="p">,</span> <span class="s1">&#39;CIUDAD_NACIMIENTO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CIUDAD_BACHILLERATO&#39;</span><span class="p">]</span>
<span class="n">geodf</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">]</span><span class="o">==</span><span class="n">cod2</span><span class="p">,</span> <span class="s1">&#39;DPTO_NACIMIENTO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;DESC_DPTO_BACHILLERATO&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Verificamos que en este punto, no deben haber datos nulos en nuestro dataset</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;geodef_sinNulos.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#geodf=pd.read_csv(&#39;geodef_sinNulos.csv&#39;, sep=&#39;,&#39;)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="ajustando-los-tipos-de-datos">
<h3>Ajustando los tipos de datos<a class="headerlink" href="#ajustando-los-tipos-de-datos" title="Permalink to this heading">#</a></h3>
<p>Una vez eliminados los datos nulos y antes de realizar visualizaciones, vamos a ajustar los tipos de datos de cada Feature y revisemos las que pueden ser susceptibles a ser transformadas por el One-Hot Encoder</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="p">[[</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">,</span> <span class="s1">&#39;TASA&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[[</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">,</span> <span class="s1">&#39;TASA&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;ESTRATO&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;ESTRATO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;FECHA_DECISION_SOLICITUD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;FECHA_DECISION_SOLICITUD&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_explore</span><span class="p">(</span><span class="n">geodf</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Shape:  (1232, 45)
+----------------------------+----------------+----------+-------+--------+
|           Column           |      Type      | Non-Null | Nulls | Unique |
+----------------------------+----------------+----------+-------+--------+
|        DISCAPACIDAD        |     object     |   1232   |   0   |   4    |
|        IND_COMPLETA        |     object     |   1232   |   0   |   1    |
|        IND_ACEPTADA        |     object     |   1232   |   0   |   2    |
|      Ind_Sol_01_69_75      |     object     |   1232   |   0   |   2    |
|      IND_MATRICULADO       |     object     |   1232   |   0   |   2    |
|           CODIGO           |     object     |   1232   |   0   |  1113  |
|            EDAD            |     object     |   1232   |   0   |   30   |
|            SEXO            |     object     |   1232   |   0   |   2    |
|         CIUDADANIA         |     object     |   1232   |   0   |   2    |
|         ATRIBUTOS          |     object     |   1232   |   0   |   85   |
|         DESC_DPTO1         |     object     |   1232   |   0   |   26   |
|      DESC_MUNICIPIO1       |     object     |   1232   |   0   |  130   |
|         DESC_PAIS1         |     object     |   1232   |   0   |   1    |
|      FECHA_SOLICITUD       |     object     |   1232   |   0   |  468   |
|      ESTADO_SOLICITUD      |     object     |   1232   |   0   |   1    |
|      TIPO_ESTUDIANTE       |     object     |   1232   |   0   |   1    |
|            TASA            |     object     |   1232   |   0   |   16   |
|       DESC_PROGRAMA1       |     object     |   1232   |   0   |   1    |
|       Desc_Division1       |     object     |   1232   |   0   |   1    |
|          ESTRATO           |     object     |   1232   |   0   |   6    |
|     DESC_BACHILLERATO      |     object     |   1232   |   0   |  537   |
|    CIUDAD_BACHILLERATO     |     object     |   1232   |   0   |  138   |
|   DESC_DPTO_BACHILLERATO   |     object     |   1232   |   0   |   29   |
|   DESC_PAIS_BACHILLERATO   |     object     |   1232   |   0   |   3    |
|      PERCENTIL_GLOBAL      |    float64     |   1232   |   0   |   70   |
|      COLEGIO_PRIVADO       |     object     |   1232   |   0   |   2    |
|      COLEGIO_BILINGUE      |     object     |   1232   |   0   |   2    |
|           GLOBAL           |    float64     |   1232   |   0   |  182   |
|        MATEMATICAS         |    float64     |   1232   |   0   |   55   |
|           Rango            |     object     |   1232   |   0   |   27   |
|          LECTURA           |    float64     |   1232   |   0   |   52   |
|          SOCIALES          |    float64     |   1232   |   0   |   55   |
|         NATURALES          |    float64     |   1232   |   0   |   53   |
|           INGLES           |    float64     |   1232   |   0   |   63   |
|       TIPO_DECISION        |     object     |   1232   |   0   |   10   |
|       DESC_DECISION        |     object     |   1232   |   0   |   9    |
|  FECHA_DECISION_SOLICITUD  | datetime64[ns] |   1232   |   0   |  159   |
|         PAGO_01_02         |     object     |   1232   |   0   |   3    |
|     CIUDAD_NACIMIENTO      |     object     |   1232   |   0   |  143   |
|      DPTO_NACIMIENTO       |     object     |   1232   |   0   |   37   |
|      PAIS_NACIMIENTO       |     object     |   1232   |   0   |   8    |
|     PAIS_NACIONALIDAD      |     object     |   1232   |   0   |   4    |
|       IDIOMA_NATIVO        |     object     |   1232   |   0   |   1    |
|        GRUPO_ETNICO        |     object     |   1232   |   0   |   14   |
| Beneficiario_Beca_Gobierno |     object     |   1232   |   0   |   2    |
+----------------------------+----------------+----------+-------+--------+
</pre></div>
</div>
</div>
</div>
<p>*Transformamos la <code class="docutils literal notranslate"><span class="pre">EDAD</span></code> a enteros y la <code class="docutils literal notranslate"><span class="pre">Fecha</span> <span class="pre">de</span> <span class="pre">solicitud</span></code> a DateTime, eliminamos la columna <code class="docutils literal notranslate"><span class="pre">CODIGO</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;EDAD&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;EDAD&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;float&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;int&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;FECHA_SOLICITUD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;FECHA_SOLICITUD&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;CODIGO&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Vamos a ajustar la columna <code class="docutils literal notranslate"><span class="pre">DESC_DECISION</span> </code>, ya que tiene muchas categorías que realmente no necesitamos. Todos los estudiantes pasarán a ADMITIDOS y excepto los que no continuaron el proceso y los que no fueron ADMITIDOS</p></li>
</ul>
<p>*Ajustaremos también la información de Becas del Gobierno a partir de la información de la columna <code class="docutils literal notranslate"><span class="pre">DESC_DECISION</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;DESC_DECISION&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DESC_DECISION
Admitido(a)                       904
Admitido(a) Ser Pilo Paga         118
No admitido(a)                     71
Admitido(a) Generación E           51
Admitido(a) Ser Pilo Paga3         32
Admitido(a)SPP, para el 2017-2     18
Admitido(a) para el II-2017        15
No continuará con el proceso       14
Admitido(a) Ser Pilo Paga2          9
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;BECADO_GOB&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;DESC_DECISION&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nuevos_valores</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Admitido(a)&#39;</span><span class="p">:</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a) Ser Pilo Paga&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a) Generación E&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a) Ser Pilo Paga3&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a)SPP, para el 2017-2&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a) para el II-2017&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a) Ser Pilo Paga2&#39;</span><span class="p">:</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;No admitido(a)&#39;</span><span class="p">:</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span>
    <span class="s1">&#39;No continuará con el proceso&#39;</span><span class="p">:</span> <span class="s1">&#39;N&#39;</span>
<span class="p">}</span>

<span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;BECADO_GOB&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;BECADO_GOB&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">nuevos_valores</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;BECADO_GOB&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">geodf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Beneficiario_Beca_Gobierno&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nuevos_valores</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Admitido(a)&#39;</span><span class="p">:</span> <span class="s1">&#39;Admitido&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a) Ser Pilo Paga&#39;</span><span class="p">:</span> <span class="s1">&#39;Admitido&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a) Generación E&#39;</span><span class="p">:</span> <span class="s1">&#39;Admitido&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a) Ser Pilo Paga3&#39;</span><span class="p">:</span> <span class="s1">&#39;Admitido&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a)SPP, para el 2017-2&#39;</span><span class="p">:</span> <span class="s1">&#39;Admitido&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a) para el II-2017&#39;</span><span class="p">:</span> <span class="s1">&#39;Admitido&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Admitido(a) Ser Pilo Paga2&#39;</span><span class="p">:</span> <span class="s1">&#39;Admitido&#39;</span>
<span class="p">}</span>
<span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;DESC_DECISION&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;DESC_DECISION&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">nuevos_valores</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="visualizaciones">
<h2>VISUALIZACIONES<a class="headerlink" href="#visualizaciones" title="Permalink to this heading">#</a></h2>
<p>Revisaremos e identificaremos posibles correlaciones entre variables numéricas, distinguiendo Matriculados de No Matriculados.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">geodf</span><span class="p">,</span><span class="n">hue</span> <span class="o">=</span> <span class="s2">&quot;IND_MATRICULADO&quot;</span><span class="p">,</span> <span class="n">corner</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.PairGrid at 0x2505179d0a0&gt;
</pre></div>
</div>
<img alt="_images/676f659afb7cc2fa013892541ce00ee53d95b6e7f672f5b0ce899396b26b8ff5.png" src="_images/676f659afb7cc2fa013892541ce00ee53d95b6e7f672f5b0ce899396b26b8ff5.png" />
</div>
</div>
<p><strong>OBSERVACION</strong></p>
<p>De esta gráfica observamos que existe una clara y constante correlación positiva entre los resultados de las diferentes áreas de la prueba SABER.</p>
<p>Ahora realizamos un mapa de calor que nos cuantifique las correlaciones.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>


<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="n">corr_matrix</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[[</span><span class="s1">&#39;MATEMATICAS&#39;</span><span class="p">,</span> <span class="s1">&#39;LECTURA&#39;</span><span class="p">,</span> <span class="s1">&#39;SOCIALES&#39;</span><span class="p">,</span> <span class="s1">&#39;NATURALES&#39;</span><span class="p">,</span> <span class="s1">&#39;INGLES&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">corr_matrix</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;.2f&quot;</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Correlation Heatmap of Exam Scores&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7dac136a25bb8bc8f83dbd554af5bbb2c964e0d10aaae23859613ae8c76465b5.png" src="_images/7dac136a25bb8bc8f83dbd554af5bbb2c964e0d10aaae23859613ae8c76465b5.png" />
</div>
</div>
<p>** OBSERVACIONES**</p>
<ul class="simple">
<li><p>Coincidiendo con la gráfica anterior, sí existe correlación positiva entre los resultados de las diferentes pruebas, siendo la más fuerte entre Naturales y Matemáticas, áreas que sin duda son importantes para las carreras en Ciencias.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualicemos algunas variables del dataset</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;SEXO&#39;</span><span class="p">],</span> <span class="n">palette</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#019ebc&#39;</span><span class="p">,</span> <span class="s1">&#39;#f49e6e&#39;</span><span class="p">,</span> <span class="s1">&#39;#a2708e&#39;</span><span class="p">],</span>
                   <span class="n">order</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;SEXO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">sort</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">(</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;SEXO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">sort</span> <span class="o">=</span> <span class="kc">False</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">labels</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">horizontalalignment</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">fontweight</span> <span class="o">=</span> <span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Aspirantes por Género&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Aspirantes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;SEXO&#39;</span><span class="p">],</span> <span class="n">hue</span><span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;IND_MATRICULADO&#39;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#bc019e&quot;</span><span class="p">,</span> <span class="s2">&quot;#fcd14a&quot;</span><span class="p">],</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ax2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Genero por indicador de matricula&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Numero de aspirantes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="mf">1.04</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">133</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">geodf</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;SEXO&#39;</span><span class="p">)[</span><span class="s1">&#39;IND_MATRICULADO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="s1">&#39;True&#39;</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ax3</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="p">[</span><span class="s2">&quot;#bc019e&quot;</span><span class="p">,</span> <span class="s2">&quot;#fcd14a&quot;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;proporcion de matriculados por genero&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span> <span class="s1">&#39;No Fraude&#39;</span><span class="p">,</span> <span class="s1">&#39;Fraude&#39;</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="mf">1.04</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/dd52be443e600a57a8a5b2e3ae4fb6ae1bb86e3072226be625fbdecc41618e1a.png" src="_images/dd52be443e600a57a8a5b2e3ae4fb6ae1bb86e3072226be625fbdecc41618e1a.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualicemos algunas variables del dataset</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">ax1</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">131</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;ESTRATO&#39;</span><span class="p">],</span> <span class="n">palette</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#019ebc&#39;</span><span class="p">,</span> <span class="s1">&#39;#f49e6e&#39;</span><span class="p">,</span> <span class="s1">&#39;#a2708e&#39;</span><span class="p">],</span>
                   <span class="n">order</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;ESTRATO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">sort</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">(</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;ESTRATO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">sort</span> <span class="o">=</span> <span class="kc">False</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">labels</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">horizontalalignment</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">fontweight</span> <span class="o">=</span> <span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Aspirantes por Estrato socioeconomico&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Numero de Aspirantes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">ax2</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">132</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;ESTRATO&#39;</span><span class="p">],</span> <span class="n">hue</span><span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;IND_MATRICULADO&#39;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#bc019e&quot;</span><span class="p">,</span> <span class="s2">&quot;#fcd14a&quot;</span><span class="p">],</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ax2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Clasificacion de matriculados por estrato&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Numero de aspirantes&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span> <span class="s1">&#39;N&#39;</span><span class="p">,</span> <span class="s1">&#39;S&#39;</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="mf">1.04</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">ax3</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">133</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">geodf</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;ESTRATO&#39;</span><span class="p">)[</span><span class="s1">&#39;IND_MATRICULADO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">normalize</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="s1">&#39;True&#39;</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">ax3</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span><span class="p">[</span><span class="s2">&quot;#bc019e&quot;</span><span class="p">,</span> <span class="s2">&quot;#fcd14a&quot;</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;proporcion de matriculados por estrato&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span> <span class="s1">&#39;No Fraude&#39;</span><span class="p">,</span> <span class="s1">&#39;Fraude&#39;</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="mf">1.04</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/38c7b07d9bbcd65f9546f2d136a0ce3f305917b77834ccb14a3412b953da3528.png" src="_images/38c7b07d9bbcd65f9546f2d136a0ce3f305917b77834ccb14a3412b953da3528.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">FacetGrid</span><span class="p">(</span><span class="n">geodf</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s2">&quot;BECADO_GOB&quot;</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="s2">&quot;IND_MATRICULADO&quot;</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">legend_out</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">,</span> <span class="s1">&#39;TASA&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">set_axis_labels</span><span class="p">(</span><span class="s2">&quot;Tipo de Admision&quot;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x2504fe1ff10&gt;
</pre></div>
</div>
<img alt="_images/b67c853f77bbf5b93ff59b9758a05bc9ebdcbbb2844f38f0b6b29a5ac0f2a8a3.png" src="_images/b67c853f77bbf5b93ff59b9758a05bc9ebdcbbb2844f38f0b6b29a5ac0f2a8a3.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfmat</span><span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;IND_MATRICULADO&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;S&#39;</span><span class="p">]</span> <span class="c1">#Segmento un nuevo DF solo para estudiantes matriculados</span>
<span class="n">q</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">countplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">dfmat</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;ESTRATO&#39;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;BECADO_GOB&#39;</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span><span class="s1">&#39;2.0&#39;</span><span class="p">,</span><span class="s1">&#39;3.0&#39;</span><span class="p">,</span><span class="s1">&#39;4.0&#39;</span><span class="p">,</span> <span class="s1">&#39;5.0&#39;</span><span class="p">])</span>
<span class="n">q</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Matriculados x Estrato Socioeconómico según asignación de Becas&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Text(0.5, 1.0, &#39;Matriculados x Estrato Socioeconómico según asignación de Becas&#39;)
</pre></div>
</div>
<img alt="_images/f51d1619c5bc630f562176dbd8d1f303f4459d5f0d5ac380785d8790f3adcf86.png" src="_images/f51d1619c5bc630f562176dbd8d1f303f4459d5f0d5ac380785d8790f3adcf86.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">=</span><span class="n">sns</span><span class="o">.</span><span class="n">FacetGrid</span><span class="p">(</span><span class="n">geodf</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="s2">&quot;IND_MATRICULADO&quot;</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="s2">&quot;ESTRATO&quot;</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;BECADO_GOB&#39;</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">legend_out</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">,</span> <span class="s1">&#39;DESC_DPTO_BACHILLERATO&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">add_legend</span><span class="p">()</span>
<span class="n">g</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x250518d69d0&gt;
</pre></div>
</div>
<img alt="_images/dc5ba217e0dbecd8beec137cb5c16758379027fb92bc8d08933d153acb4aac38.png" src="_images/dc5ba217e0dbecd8beec137cb5c16758379027fb92bc8d08933d153acb4aac38.png" />
</div>
</div>
<section id="feature-engineering-balanceo-de-clases-smote-y-one-hot-encoding">
<h3>Feature Engineering (Balanceo de clases SMOTE y One Hot Encoding)<a class="headerlink" href="#feature-engineering-balanceo-de-clases-smote-y-one-hot-encoding" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numericas</span><span class="o">=</span><span class="p">(</span><span class="n">geodf</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;float64&#39;</span><span class="p">,</span><span class="s1">&#39;int&#39;</span><span class="p">]))</span><span class="o">.</span><span class="n">columns</span>
<span class="n">categoricas</span><span class="o">=</span><span class="p">(</span><span class="n">geodf</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">]))</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">categorias_bajas_frecuencia</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">umbral_frecuencia</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Umbral del 1% de frecuencia relativa</span>

<span class="k">for</span> <span class="n">columna</span> <span class="ow">in</span> <span class="n">categoricas</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">geodf</span><span class="p">[</span><span class="n">columna</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------&#39;</span><span class="p">)</span>
    <span class="n">n_cat</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="n">columna</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>  <span class="c1"># Número de categorías únicas en la columna</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Total de categorias de esta feature:&#39;</span><span class="p">,</span> <span class="n">n_cat</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;---------------------&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n_cat</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
        <span class="n">freq_rel</span> <span class="o">=</span> <span class="p">(</span><span class="n">geodf</span><span class="p">[</span><span class="n">columna</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">geodf</span><span class="p">[</span><span class="n">columna</span><span class="p">]))</span> <span class="o">*</span> <span class="mi">100</span>  <span class="c1"># Frecuencia relativa en porcentaje</span>
        <span class="n">categorias_bajas_frec</span> <span class="o">=</span> <span class="n">freq_rel</span><span class="p">[</span><span class="n">freq_rel</span> <span class="o">&lt;</span> <span class="n">umbral_frecuencia</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
        <span class="n">categorias_bajas_frecuencia</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">categorias_bajas_frec</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">categorias_bajas_frecuencia</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DISCAPACIDAD
00: Ninguno                          1202
04:Sensorial - Baja Visión             26
09:Discapacidad Física o motora         3
11:Trastorno del Espectro Autista       1
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 4
---------------------
IND_COMPLETA
Y    1232
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 1
---------------------
IND_ACEPTADA
Y    1105
N     127
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 2
---------------------
Ind_Sol_01_69_75
Y    904
N    328
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 2
---------------------
IND_MATRICULADO
N    745
S    487
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 2
---------------------
SEXO
M    657
F    575
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 2
---------------------
CIUDADANIA
C    1231
E       1
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 2
---------------------
ATRIBUTOS
N                                                                                            393
BXGS - Ser Pilo Paga                                                                         160
BERA - Beca Roble Amarillo                                                                   130
BEOC - Beca Orgullo Caribe                                                                    81
BEUC - Beca Uninorte Caribe                                                                   62
                                                                                            ... 
BERA - Beca Roble Amarillo, BKCP - Beca Karl C. Parrish Jr.                                    1
BERA - Beca Roble Amarillo, BEUC - Beca Uninorte Caribe, CRIX - Crédito Icetex                 1
BECO - Beca Progreso Combarranquilla, BEEX - Beca Talento Promigas, CRIX - Crédito Icetex      1
BECO - Beca Progreso Combarranquilla, CRIX - Crédito Icetex                                    1
BEOC - Beca Orgullo Caribe, BGDC - Beca Gases del Caribe                                       1
Name: count, Length: 85, dtype: int64
---------------------
Total de categorias de esta feature: 85
---------------------
DESC_DPTO1
Atlántico                         762
Sucre                              82
Bolivar                            73
Cordoba                            70
Cesar                              63
Magdalena                          60
La Guajira                         47
Norte de Santander                 16
Santander                          15
Bogotá                             10
Meta                                5
Archipielago de S.A.y Providen      4
Cundinamarca                        3
Nariño                              3
Caldas                              3
Valle del Cauca                     2
Cauca                               2
Tolima                              2
Huila                               2
Arauca                              2
Putumayo                            1
Caquetá                             1
Antioquía                           1
Quindio                             1
Risaralda                           1
Casanare                            1
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 26
---------------------
DESC_MUNICIPIO1
BARRANQUILLA (Atlc)     549
Soledad (Atlc)          135
CARTAGENA (Bol)          49
VALLEDUPAR (Ces)         48
SINCELEJO (Suc)          44
                       ... 
Polonuevo (Atlc)          1
Floridablanca (Sder)      1
Saravena (Arauca)         1
Curumaní - Cesar          1
Zona Bananera (Magd)      1
Name: count, Length: 130, dtype: int64
---------------------
Total de categorias de esta feature: 130
---------------------
DESC_PAIS1
Colombia    1232
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 1
---------------------
ESTADO_SOLICITUD
D    1232
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 1
---------------------
TIPO_ESTUDIANTE
1    1232
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 1
---------------------
TASA
20171.0    201
20181.0    152
20201.0    135
20191.0    132
20161.0    116
20221.0     91
20211.0     89
20172.0     61
20231.0     58
20182.0     50
20192.0     31
20202.0     30
20162.0     26
20212.0     21
20222.0     21
20232.0     18
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 16
---------------------
DESC_PROGRAMA1
Geología    1232
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 1
---------------------
Desc_Division1
División de Ciencias Básicas    1232
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 1
---------------------
ESTRATO
1.0    451
2.0    414
3.0    233
4.0     85
5.0     37
6.0     12
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 6
---------------------
DESC_BACHILLERATO
Colegio Metropolitano De Soledad 2000                               24
Colegio Americano De Barranquilla                                   22
I.E.D. Alexander Von Humboldt                                       16
IE Politécnico De Soledad - Jornada Tarde                           16
Colegio Colon                                                       15
                                                                    ..
Institucion Educativa Distrital Nestor Andres Rangel Alfaro          1
Colegio Sociedad De Cristo                                           1
Colegio Distrital Nuevo Bosque (Antes C.E.B. #071)-Jornada Tarde     1
IED El Paraiso                                                       1
IED Delicias San Carlos - IDESCO                                     1
Name: count, Length: 537, dtype: int64
---------------------
Total de categorias de esta feature: 537
---------------------
CIUDAD_BACHILLERATO
Barranquilla    474
Soledad         117
Valledupar       60
Sincelejo        56
Cartagena        49
               ... 
Saravena          1
Aracataca         1
Curumani          1
Los Palmitos      1
El Copey          1
Name: count, Length: 138, dtype: int64
---------------------
Total de categorias de esta feature: 138
---------------------
DESC_DPTO_BACHILLERATO
Atlántico                         684
Sucre                             107
Bolivar                            79
Cesar                              77
Cordoba                            73
Magdalena                          63
La Guajira                         56
Santander                          17
Norte de Santander                 17
Bogotá                             12
Meta                                6
Antioquía                           4
Archipielago de S.A.y Providen      4
Valle del Cauca                     4
Nariño                              4
Cundinamarca                        4
Caldas                              3
Huila                               3
Tolima                              2
Quindio                             2
Arauca                              2
Cauca                               2
Casanare                            1
Risaralda                           1
Distrito Capital                    1
Caquetá                             1
Amazonas                            1
Putumayo                            1
Tennessee                           1
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 29
---------------------
DESC_PAIS_BACHILLERATO
Colombia          1230
Venezuela            1
Estados Unidos       1
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 3
---------------------
COLEGIO_PRIVADO
N    640
Y    592
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 2
---------------------
COLEGIO_BILINGUE
N    1210
Y      22
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 2
---------------------
Rango
340-349    152
320-329    133
350-359    131
330-339    129
310-319    116
300-309     96
360-369     90
370-379     58
280-289     57
290-299     46
260-269     38
380-389     37
240-249     28
270-279     28
250-259     26
220-229     13
-           12
390-399     10
410-419     10
400-409      6
210-219      5
230-239      3
420-429      3
200-209      2
190-199      1
180-189      1
430-439      1
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 27
---------------------
TIPO_DECISION
1     904
GN    118
9      71
AG     32
GE     29
EG     22
A2     18
AO     15
83     14
2P      9
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 10
---------------------
DESC_DECISION
Admitido                        1147
No admitido(a)                    71
No continuará con el proceso      14
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 3
---------------------
PAGO_01_02
     639
S    494
N     99
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 3
---------------------
CIUDAD_NACIMIENTO
Barranquilla          538
Sincelejo              60
Valledupar             55
Cartagena              50
Bogotá D.C.            43
                     ... 
Ariguaní                1
Sao Paulo               1
Tenerife                1
Santa Rosa Del Sur      1
El Copey                1
Name: count, Length: 143, dtype: int64
---------------------
Total de categorias de esta feature: 143
---------------------
DPTO_NACIMIENTO
Atlántico                         616
Sucre                              97
Bolivar                            83
Cordoba                            78
Magdalena                          73
Cesar                              70
La Guajira                         56
Bogotá                             43
Santander                          27
Norte de Santander                 19
Antioquía                           9
Meta                                6
Archipielago de S.A.y Providen      5
Caldas                              4
Huila                               4
Caquetá                             4
Valle del Cauca                     3
Nariño                              3
Cundinamarca                        3
Santo Domingo de los Tsachilas      3
Cauca                               3
Boyacá                              2
Distrito Capital                    2
Tolima                              2
Arauca                              2
Risaralda                           2
Estados Unidos Mexicanos            2
Quindio                             2
Rio de Janeiro                      1
La Habana                           1
Casanare                            1
Vichada                             1
Sao Paulo                           1
Chocó                               1
Quito                               1
Amazonas                            1
Putumayo                            1
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 37
---------------------
PAIS_NACIMIENTO
Colombia      1218
Ecuador          4
China            2
Brasil           2
Venezuela        2
México           2
Costa Rica       1
Cuba             1
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 8
---------------------
PAIS_NACIONALIDAD
Colombia      1229
Cuba             1
Costa Rica       1
México           1
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 4
---------------------
IDIOMA_NATIVO
Español    1232
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 1
---------------------
GRUPO_ETNICO
No aplica--                 969
Afrocolombianos              99
                             71
Zenú / senú                  50
Wayuu                        18
Raizales                      8
Mokaná                        6
Otras comunidades negras      3
Kankuamo                      2
Yuko (yukpa)                  2
Kamsa o kamá«ntsá             1
Muisca                        1
Pijaos                        1
Inga                          1
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 14
---------------------
BECADO_GOB
N    989
Y    243
Name: count, dtype: int64
---------------------
Total de categorias de esta feature: 2
---------------------
[&#39;BKCP - Beca Karl C. Parrish Jr.&#39;, &#39;BECA - Beca&#39;, &#39;BERA - Beca Roble Amarillo, BXGS - Ser Pilo Paga&#39;, &#39;BPCA - Beca Paâ€™lante Caribe&#39;, &#39;BERA - Beca Roble Amarillo, CRIX - Crédito Icetex&#39;, &#39;BECA - Beca, BGDC - Beca Gases del Caribe&#39;, &#39;BEUC - Beca Uninorte Caribe, BXGS - Ser Pilo Paga&#39;, &#39;BEDE - Beca Excelencia Deportiva UN&#39;, &#39;BECA - Beca, GENE - Generación E&#39;, &#39;BEMI - Beca Mejor Icfes, BEOC - Beca Orgullo Caribe&#39;, &#39;BEAO - Beca Alejandro Obregón&#39;, &#39;BERA - Beca Roble Amarillo, BPCA - Beca Paâ€™lante Caribe&#39;, &#39;BEEX - Beca Talento Promigas, BEOC - Beca Orgullo Caribe&#39;, &#39;BEOC - Beca Orgullo Caribe, BEUC - Beca Uninorte Caribe&#39;, &#39;BERA - Beca Roble Amarillo, BEUC - Beca Uninorte Caribe&#39;, &#39;BEOC - Beca Orgullo Caribe, CRIX - Crédito Icetex&#39;, &#39;BERA - Beca Roble Amarillo, BGDC - Beca Gases del Caribe&#39;, &#39;BEOC - Beca Orgullo Caribe, BXGS - Ser Pilo Paga&#39;, &#39;BGDC - Beca Gases del Caribe, GENE - Generación E&#39;, &#39;BEOC - Beca Orgullo Caribe, GENE - Generación E&#39;, &#39;BEEX - Beca Talento Promigas, CRIX - Crédito Icetex&#39;, &#39;BECA - Beca, BPCA - Beca Paâ€™lante Caribe&#39;, &#39;BEEX - Beca Talento Promigas, GENE - Generación E&#39;, &#39;BECA - Beca, BGDC - Beca Gases del Caribe, GENE - Generación E&#39;, &#39;BECO - Beca Progreso Combarranquilla, GENE - Generación E&#39;, &#39;BECS - Beca Colseguros, BEUC - Beca Uninorte Caribe&#39;, &#39;BECA - Beca, BEEP - Beca Excelencia Prodeco&#39;, &#39;BECS - Beca Colseguros, GENE - Generación E&#39;, &#39;BEUC - Beca Uninorte Caribe, GENE - Generación E&#39;, &#39;BEEX - Beca Talento Promigas, BEOC - Beca Orgullo Caribe, BERA - Beca Roble Amarillo&#39;, &#39;ADSO - Admitido(a) Segunda Opcíón&#39;, &#39;BEOC - Beca Orgullo Caribe, BERA - Beca Roble Amarillo&#39;, &#39;BEEX - Beca Talento Promigas, BXGS - Ser Pilo Paga&#39;, &#39;BEOC - Beca Orgullo Caribe, BERA - Beca Roble Amarillo, BXGS - Ser Pilo Paga&#39;, &#39;BEMI - Beca Mejor Icfes, CRIX - Crédito Icetex&#39;, &#39;BEEX - Beca Talento Promigas, BERA - Beca Roble Amarillo&#39;, &#39;BEOC - Beca Orgullo Caribe, BFUN - Beca Tu mejor futuro con UN&#39;, &#39;BECS - Beca Colseguros, BERA - Beca Roble Amarillo, BEUC - Beca Uninorte Caribe&#39;, &#39;BERA - Beca Roble Amarillo, BEUC - Beca Uninorte Caribe, BGDC - Beca Gases del Caribe&#39;, &#39;BEMI - Beca Mejor Icfes, BFUN - Beca Tu mejor futuro con UN&#39;, &#39;BECS - Beca Colseguros, BERA - Beca Roble Amarillo&#39;, &#39;BERA - Beca Roble Amarillo, BGDC - Beca Gases del Caribe, BKCP - Beca Karl C. Parrish Jr.&#39;, &#39;BEDE - Beca Excelencia Deportiva UN, BGDC - Beca Gases del Caribe&#39;, &#39;BALL - Beca Allianz&#39;, &#39;BEMI - Beca Mejor Icfes, GENE - Generación E&#39;, &#39;BEUC - Beca Uninorte Caribe, BGDC - Beca Gases del Caribe&#39;, &#39;BEOC - Beca Orgullo Caribe, BERA - Beca Roble Amarillo, BEUC - Beca Uninorte Caribe, BGDC - Beca Gases del Caribe&#39;, &#39;BEAO - Beca Alejandro Obregón, BECA - Beca, GENE - Generación E&#39;, &#39;BECO - Beca Progreso Combarranquilla, BEOC - Beca Orgullo Caribe, BERA - Beca Roble Amarillo&#39;, &#39;BKCP - Beca Karl C. Parrish Jr., GENE - Generación E&#39;, &#39;BGDC - Beca Gases del Caribe, BKCP - Beca Karl C. Parrish Jr.&#39;, &#39;BECO - Beca Progreso Combarranquilla, NCI - No completará la inscripción&#39;, &#39;BECA - Beca, BECS - Beca Colseguros&#39;, &#39;BEOC - Beca Orgullo Caribe, BPCA - Beca Paâ€™lante Caribe&#39;, &#39;BEEX - Beca Talento Promigas, BEMI - Beca Mejor Icfes, BEOC - Beca Orgullo Caribe&#39;, &#39;BECS - Beca Colseguros, COFU - Copa de Fútbol, GENE - Generación E&#39;, &#39;BECA - Beca, BERA - Beca Roble Amarillo&#39;, &#39;BECA - Beca, BEUC - Beca Uninorte Caribe, BGDC - Beca Gases del Caribe&#39;, &#39;BERA - Beca Roble Amarillo, COFU - Copa de Fútbol, GENE - Generación E&#39;, &#39;BECO - Beca Progreso Combarranquilla, BERA - Beca Roble Amarillo&#39;, &#39;CLPR - Viene de Cursos Libres, CRIX - Crédito Icetex&#39;, &#39;BECO - Beca Progreso Combarranquilla, BECS - Beca Colseguros&#39;, &#39;BECA - Beca, BECO - Beca Progreso Combarranquilla&#39;, &#39;BERA - Beca Roble Amarillo, INBA - Intercolegial de Baile&#39;, &#39;BECA - Beca, BEEX - Beca Talento Promigas&#39;, &#39;BECA - Beca, BKCP - Beca Karl C. Parrish Jr.&#39;, &#39;BEOC - Beca Orgullo Caribe, BEUC - Beca Uninorte Caribe, CRIX - Crédito Icetex&#39;, &#39;BERA - Beca Roble Amarillo, BKCP - Beca Karl C. Parrish Jr.&#39;, &#39;BERA - Beca Roble Amarillo, BEUC - Beca Uninorte Caribe, CRIX - Crédito Icetex&#39;, &#39;BECO - Beca Progreso Combarranquilla, BEEX - Beca Talento Promigas, CRIX - Crédito Icetex&#39;, &#39;BECO - Beca Progreso Combarranquilla, CRIX - Crédito Icetex&#39;, &#39;BEOC - Beca Orgullo Caribe, BGDC - Beca Gases del Caribe&#39;, &#39;Bogotá&#39;, &#39;Meta&#39;, &#39;Archipielago de S.A.y Providen&#39;, &#39;Cundinamarca&#39;, &#39;Nariño&#39;, &#39;Caldas&#39;, &#39;Valle del Cauca&#39;, &#39;Cauca&#39;, &#39;Tolima&#39;, &#39;Huila&#39;, &#39;Arauca&#39;, &#39;Putumayo&#39;, &#39;Caquetá&#39;, &#39;Antioquía&#39;, &#39;Quindio&#39;, &#39;Risaralda&#39;, &#39;Casanare&#39;, &#39;Lorica (Cord)&#39;, &#39;Bogotá D.C.&#39;, &#39;Cerete (Cord)&#39;, &#39;CášCUTA (N.Sder)&#39;, &#39;Sabanalarga-Atlántico&#39;, &#39;Magangué (Bol)&#39;, &#39;Santo Tomás&#39;, &#39;Galapa (Atlc)&#39;, &#39;Montelibano (Cord)&#39;, &#39;Sabanagrande-Atlántico&#39;, &#39;Ciénaga (Magd)&#39;, &#39;BUCARAMANGA (Sder)&#39;, &#39;Juan De Acosta - Atlántico&#39;, &#39;Sahagún (Cord)&#39;, &#39;Chinú (Cord)&#39;, &#39;Ovejas (Suc)&#39;, &#39;La Jagua de Ibirico (Ces)&#39;, &#39;SAN ANDRES ISLAS&#39;, &#39;VILLAVICENCIO (Meta)&#39;, &#39;Campo De La Cruz (Atlc)&#39;, &#39;Baranoa (Atlc)&#39;, &#39;Fonseca (Guaj)&#39;, &#39;Palmar de Varela (Atlc)&#39;, &#39;Plato (Magd)&#39;, &#39;San Juan Nepomuceno (Bol)&#39;, &#39;Becerríl (Ces)&#39;, &#39;Ocaña (N. Sder)&#39;, &#39;Buenavista (Suc)&#39;, &#39;Villanueva (Guaj)&#39;, &#39;Mompós (Bol)&#39;, &#39;Cienaga de Oro (Cord)&#39;, &#39;Repelón-Atlántico&#39;, &#39;Palmito (Suc)&#39;, &#39;La Paz&#39;, &#39;Sitionuevo (Magd)&#39;, &#39;Mahates (Bol)&#39;, &#39;Los Palmitos (Suc)&#39;, &#39;Pivijay (Magd)&#39;, &#39;La Dorada (Cald)&#39;, &#39;Piedecuesta (Sder)&#39;, &#39;San Juan Del Cesar (Guaj)&#39;, &#39;La Florida (Narñ)&#39;, &#39;Uribia (Guaj)&#39;, &#39;Aracataca (Magd)&#39;, &#39;IBAGUá‰ (Tol)&#39;, &#39;Los Patios&#39;, &#39;Tierralta (Cord)&#39;, &#39;San Bernardo del Viento&#39;, &#39;Distracción (Guaj)&#39;, &#39;Puerto Libertador (Cord)&#39;, &#39;POPAYAN (Cau)&#39;, &#39;Tolú (Suc)&#39;, &#39;Sincé (Suc)&#39;, &#39;Codazzi&#39;, &#39;Paramo&#39;, &#39;Momil (Cord)&#39;, &#39;San Onofre (Suc)&#39;, &#39;Coveñas&#39;, &#39;Arjona (Bol)&#39;, &#39;Bosconia (Ces)&#39;, &#39;Girón (Sder)&#39;, &#39;Ponedera (Atlc)&#39;, &#39;Turbana (Bol)&#39;, &#39;Ariguaní&#39;, &#39;MOCOA (Puty)&#39;, &#39;Tumaco (Narñ)&#39;, &#39;San Marcos&#39;, &#39;La Loma - Cesar&#39;, &#39;Cordoba (Bol)&#39;, &#39;Majagual (Suc)&#39;, &#39;La Unión (Suc)&#39;, &#39;Teorama&#39;, &#39;Santa Ana (Magd)&#39;, &#39;Gamarra - Cesar&#39;, &#39;Guamal (Magd)&#39;, &#39;Turbaco (Bol)&#39;, &#39;Tubará (Atlc)&#39;, &#39;Pitalito (Huila)&#39;, &#39;La Plata (Huila)&#39;, &#39;Buga (Valle)&#39;, &#39;Chivolo (Magd)&#39;, &#39;Santa Rosa del Sur (Bol)&#39;, &#39;Rionegro (Antq)&#39;, &#39;ARAUCA (Arauca)&#39;, &#39;Achí (Bol)&#39;, &#39;Girardot (Cund)&#39;, &#39;Facatativa (Cund)&#39;, &#39;Anserma&#39;, &#39;Tauramena (Casanare)&#39;, &#39;Hatonuevo (Guaj)&#39;, &#39;Santa Helena Del Opon&#39;, &#39;Sampués (Suc)&#39;, &#39;Palmira (Valle)&#39;, &#39;Aguachica (Ces)&#39;, &#39;Granada&#39;, &#39;PEREIRA (Risal)&#39;, &#39;San Gil (Sder)&#39;, &#39;Fundación (Magd)&#39;, &#39;Zapatoca (Sder)&#39;, &#39;ARMENá\x8dA (Quind)&#39;, &#39;Chimá (Sder)&#39;, &#39;El Banco (Magd)&#39;, &#39;Monteria&#39;, &#39;Puerto Santander (N. Sder)&#39;, &#39;La Apartada y la Frontera&#39;, &#39;Moñitos (Cord)&#39;, &#39;Velez&#39;, &#39;Suán (Atlc)&#39;, &#39;FLORENCIA (Caqt)&#39;, &#39;San Jacinto (Bol)&#39;, &#39;Morroa (Suc)&#39;, &#39;Tenerife (Magd)&#39;, &#39;Urumita (Guaj)&#39;, &#39;Polonuevo (Atlc)&#39;, &#39;Floridablanca (Sder)&#39;, &#39;Saravena (Arauca)&#39;, &#39;Curumaní - Cesar&#39;, &#39;Zona Bananera (Magd)&#39;, &#39;Instituto Experimental José Celestino Mutis&#39;, &#39;Institucion Educativa Antonio Nariño-Jornada Mañana&#39;, &#39;Escuela Normal Superior Del Distrito Barranquilla&#39;, &#39;Escuela Normal Superior La Hacienda&#39;, &#39;Institucion Educativa Loperena-Jornada Mañana&#39;, &#39;Colegio Pestalozziano&#39;, &#39;Instituto Distrital Para El Desarrollo Integral Nueva Granada-Jornada Mañana&#39;, &#39;Colegio Distrital Maria Auxiliadora - Jornada Mañana&#39;, &#39;Colegio Biffi La Salle&#39;, &#39;Colegio Del Sagrado Corazon - Calle 74&#39;, &#39;IE Simon Araujo - Jornada Nocturna&#39;, &#39;Institucion Educativa Tecnico Industrial El Milagroso&#39;, &#39;Institución Educativa Distrital Betania&#39;, &#39;IEDistrital Simon Bolivar (Antes C.E.B # 127)-Jornada Tarde&#39;, &#39;Colegio De La Sagrada Familia&#39;, &#39;Nuevo Colegio Del Prado&#39;, &#39;Instituto Ariano&#39;, &#39;IED Marie Poussepin&#39;, &#39;IE Escuela Normal Superior Nuestra Señora De Fatima -Jornada Mañana&#39;, &#39;Colegio Santa Fe&#39;, &#39;IT Nacional De Comercio - Jornada Nocturna&#39;, &#39;Colegio Adventista Del Atlantico Max Trummer&#39;, &#39;Instituto Pedagogico De Maicao&#39;, &#39;IE Policarpa Salavarrieta&#39;, &#39;Colegio Distrital Maria Inmaculada&#39;, &#39;Colegio La Enseñanza&#39;, &#39;IE Técnico Industrial Blas Torres De La Torre - Jornada Mañana&#39;, &#39;IE Sofia Camargo De Lleras - Jornada Tarde&#39;, &#39;Liceo Panamericano -J ornada Mañana&#39;, &#39;Colegio Maria Auxiliadora&#39;, &#39;Colegio El Encanto&#39;, &#39;I.E.Francisco Javier Cisneros-Jornada Mañana&#39;, &#39;IE Normal Superior De Corozal&#39;, &#39;Colegio Liceo De Cervantes&#39;, &#39;IED Santa Bernardita - Jornada Mañana&#39;, &#39;IED La Magdalena (Antes Ceb # 159)&#39;, &#39;Colegio Madre Marcelina&#39;, &#39;Institucion Educativa San Vicente De Paul-Jornada Mañana&#39;, &#39;Colegio Guillermo Carey&#39;, &#39;Colegio Britanico Internacional&#39;, &#39;Liceo Leon De Greiff&#39;, &#39;IED Inocencio Chinca&#39;, &#39;IE Soledad Acosta De Samper -Jornada Tarde&#39;, &#39;Colegio Santa Maria De La Providencia&#39;, &#39;IE Mayor De Valledupar Cesar Pompeyo Mendoza Hinojosa&#39;, &#39;Unidad Pedagogica Bolivariana&#39;, &#39;Institucion Educativa Nuestra Señora De Fatima&#39;, &#39;Colegio Distrital Hogar Mariano&#39;, &#39;Instituto La Salle&#39;, &#39;Colegio San Francisco&#39;, &#39;IED Pestalozzi - Jornada Nocturna&#39;, &#39;IED Escuela Normal Superior Maria Auxiliadora&#39;, &#39;Instituto Colombiano De Edu.Para El Talento Humano Especializado -  ICETEC&#39;, &#39;IED De Formación Integral&#39;, &#39;IE Liceo Panamericano&#39;, &#39;Colegio De Barranquilla Codeba-Jornada Mañana&#39;, &#39;Colegio Del Sagrado Corazon-Cra. 51B&#39;, &#39;Colegio Militar Acolsure&#39;, &#39;IED Fundación Pies Descalzos&#39;, &#39;IE Jose Guillermo Castro Castro - Jornada Tarde&#39;, &#39;Colegio Nuestra Señora Del Buen Consejo&#39;, &#39;IE San Nicolas De Tolentino&#39;, &#39;Ciudadela Educativa Cooedumag&#39;, &#39;Colegio De La Salle&#39;, &#39;Institucion Educativa Pre-Universidad Estudiantil (Antigua Pre-Universidad Estudiantil)&#39;, &#39;Institucion Educativa San Jose-Sede Principal-Jornada Mañana&#39;, &#39;Colegio La Salle&#39;, &#39;Gimnasio Campestre&#39;, &#39;IED Desarrollo Humano Y Cultural Del Caribe&#39;, &#39;IE Antonio Lenis - Jornada Tarde&#39;, &#39;Nuevo Colegio Maria Montessori-Jornada Completa&#39;, &#39;Colegio Nuestra Señora De Lourdes&#39;, &#39;IE Colegio Naval De Coveñas&#39;, &#39;Colegio El Socorro&#39;, &#39;Institucion Educativa Liceo Carmelo Percy Vergara-Jornada Tarde&#39;, &#39;Boston International School&#39;, &#39;Institucion Educativa Nuestra Señora De Fatima-Sede Principal-Jornada Mañana&#39;, &#39;Colegio Sagrada Sabiduria-Jornada Tarde&#39;, &#39;Colegio Colombo Ingles&#39;, &#39;Colegio Saleciano San Roque&#39;, &#39;Colegio Distrital Juan Jose Rondon&#39;, &#39;Instituto Tecnico Pedro Castro Monsalvo-Jornada Mañana&#39;, &#39;IE.No. 2 - Colegio La Inmaculada - Jornada Nocturna&#39;, &#39;Institucion Educativa Divina Pastora-Jornada Mañana&#39;, &#39;IE Dolores Maria Ucros - Jornada Mañana&#39;, &#39;Colegio Diocesano San Jose&#39;, &#39;Colegio San Miguel Del Rosario&#39;, &#39;Colegio El Divino Niño&#39;, &#39;Colegio Jesus De La Buena Esperanza-Jornada Mañana&#39;, &#39;IE Nuestra Señora De Las Misericordias&#39;, &#39;Escuela Normal Santa Teresita&#39;, &#39;Colegio Nuestra Señora De Fatima&#39;, &#39;Colegio Distrital Murillo&#39;, &#39;Institucion Educativa Distrital Ciudadela Estudiantil Antes C.E.B-186-Jornada Mañana&#39;, &#39;Colegio Mayor De Barranquilla Y Del Caribe-Sede 1-Jornada Mañana&#39;, &#39;Colegio Comfacesar&#39;, &#39;IED Calixto Alvarez - Jornada Nocturna&#39;, &#39;Colegio Jorge N. Abello-Jornada Mañana&#39;, &#39;Colegio 20 De Julio Central&#39;, &#39;Colegio Sara De Luque Panaflet-Sede Principal&#39;, &#39;Colegio Distrital Jose Eusebio Caro-Jornada Mañana&#39;, &#39;Gimnasio Nueva Granada&#39;, &#39;Colegio Distrital Olaya - Jornada Mañana&#39;, &#39;Casd Simon Bolivar - Jornada Tarde&#39;, &#39;Institucion Educativa La Union-Sede Principal-Jornada Mañana&#39;, &#39;Howard Gardner Bilingual School&#39;, &#39;IE Agustin Codazzi - Jornada Mañana&#39;, &#39;Colegio Hermana Virginia Rossi&#39;, &#39;Colegio Santa Cecilia-Sede Principal&#39;, &#39;IE San Mateo&#39;, &#39;Colegio San Jose&#39;, &#39;Colegio De La Presentacion&#39;, &#39;Centro Educativo Mixto De Galapa&#39;, &#39;Colegio Distrital El Silencio (Antes C.E.B. #050)&#39;, &#39;Institucion Educativa Distrital La Union-Sede 1-Jornada Mañana&#39;, &#39;Gimnasio Moderno Montecatini&#39;, &#39;Colegio Santa Rosa De Lima&#39;, &#39;Colegio Externado De Colombia&#39;, &#39;Gimnasio Campestre El Rodadero&#39;, &#39;IT Mercedes Abrego - Jornada Mañana&#39;, &#39;IED Gabriel Garcia Marquez - Jornada Mañana&#39;, &#39;IE Simon Araujo -Jornada Mañana&#39;, &#39;Colegio Emilio Soto Mayor&#39;, &#39;Colegio Nazareth Olaya&#39;, &#39;IE Sagrado Corazon - Jornada Mañana&#39;, &#39;Instituto Monsalve Newlove&#39;, &#39;Colegio Eucaristico De La Merced&#39;, &#39;Institucion Educativa Tecnica Industrial De Sabanalarga&#39;, &#39;Escuela El Carmen&#39;, &#39;Colegio Departamental La Esperanza-Jornada Mañana&#39;, &#39;IE Villa Estadio&#39;, &#39;Colegio Julio Perez Ferrero-Jornada Mañana&#39;, &#39;Institucion Educativa Madre Amalia&#39;, &#39;Centro Social Don Bosco&#39;, &#39;IE Jesus Maestro Fundacion Mario Santodomingo&#39;, &#39;Instituto Tecnico Cultural Diocesano&#39;, &#39;Colegio Marcelo Graziosi&#39;, &#39;IE Francisco De Paula Santander-Jornada Mañana&#39;, &#39;Institucion Educativa Eva Rodriguez&#39;, &#39;Gimnasio Latino Britanico&#39;, &#39;Colegio Parroquial El Carmelo&#39;, &#39;Colegio Lyndon B. Johnson-Sede Principal&#39;, &#39;Institucion Educativa Distrital Manuel Zapata Olivella&#39;, &#39;Institucion Educativa De Evitar-Jornada Nocturna&#39;, &#39;Centro Educativo Maria Auxiliadora Villa Monaco-Sede Principal&#39;, &#39;Colegio Departamental El Carmen-Jornada Mañana&#39;, &#39;Colegio Fundacion Manuela Beltran&#39;, &#39;IE Escuela Normal Superior Nuestra Señora De Fatima - Jornada Completa&#39;, &#39;Centro De Educacion Basica Y Media No 161-Jornada Nocturna&#39;, &#39;Institucion Educativa Jose David Montezuma Recuero-Sede Principal&#39;, &#39;IE Tecnico Industrial Antonio Prieto - Jornada Mañana&#39;, &#39;IED Del Barrio Simón Bolivar-Jornada Tarde&#39;, &#39;IED Familia de Nazaret&#39;, &#39;Corporacion Educativa Colegio Italiano Galileo Galilei&#39;, &#39;Roque De Alba-Jornada Completa&#39;, &#39;Colegio Cristiano Integral&#39;, &#39;Colegio San José Hermanitas de la Anunciación&#39;, &#39;IE Tecnico Comercial De Sabanalarga&#39;, &#39;Centro Educativo Para La Formación Integral (Cefi) - Jornada Mañana&#39;, &#39;Institucion Educativa Bethel&#39;, &#39;Gimnasio Cervantes de Cartagena&#39;, &#39;IED Nuestra Señora Del Rosario&#39;, &#39;Institucion Educativa Tecnica Francisco Cartusciello De Sabanagrande-Sede Principal&#39;, &#39;Master College&#39;, &#39;Colegio Biffi&#39;, &#39;IED Madre Marcelina&#39;, &#39;Instituto Cristo Rey&#39;, &#39;IE Hermano Antonio Ramos De La Salle&#39;, &#39;IE Maria Inmaculada&#39;, &#39;IE Inem Miguel Antonio Caro-Jornada Tarde&#39;, &#39;Normal Superior&#39;, &#39;Liceo Politecnico Del Sinu&#39;, &#39;Institucion Educativa Indigena San Antonio Abad-Sede Principal-Jornada Sabatina&#39;, &#39;Institucion Educativa Distrital Salvador Entregas-Sede Pricipal&#39;, &#39;Liceo Monteria&#39;, &#39;IE Tecnica Juan V. Padilla-Jornada Tarde&#39;, &#39;Colegio Tecnico Industrial San Carlos Borromeo&#39;, &#39;Colegio Gimnasio Mompiano&#39;, &#39;IE Maria Montessori&#39;, &#39;Colegio Francisco De San Luis Beltran&#39;, &#39;IE Santa Teresita&#39;, &#39;Colegio Jesus De La Divina Misericordia-Sede Principal&#39;, &#39;Corporacion Educativa Gimnasio Altair De Cartagena&#39;, &#39;IED Lestonnac&#39;, &#39;Gimnasio Del Caribe - Jornada Nocturna&#39;, &#39;Colegio El Divino Nino&#39;, &#39;Instituto La Milagrosa&#39;, &#39;Fundacion Educativa De Montelibano&#39;, &#39;IE Técnico Industrial Blas Torres De La Torre - Jornada Tarde&#39;, &#39;IE Maria Auxiliadora-Sede Principal&#39;, &#39;Colegio Nuestra Señora De Los Remedios&#39;, &#39;ID De Educacion Artistica Y Cultural Alejandro Obregon&#39;, &#39;Institucion Educativa Distrital Jose Raimundo Sojo&#39;, &#39;IEDistrital Simon Bolivar (Antes C.E.B # 127)-Jornada Mañana&#39;, &#39;I.E. Escuela Normal Superior Santa Teresita&#39;, &#39;Ateneo Tecnico Comercial&#39;, &#39;Colegio Jerusalem&#39;, &#39;Institucion Educativa San Antonio Maria Claret&#39;, &#39;IE Normal Superior Montes De Maria-Jornada Mañana&#39;, &#39;Institucion Educativa Normal Superior Indigena&#39;, &#39;IE Distrital Karl Parrish&#39;, &#39;IE Tercer Milenio&#39;, &#39;Institucion Distrital De Experiencias Pedagogicas&#39;, &#39;Liceo De Guilford Y Gagne&#39;, &#39;Institucion Educativa Loperena-Jornada Nocturna&#39;, &#39;Colegio Bilingá¼e Elisa Diazgranados&#39;, &#39;Colegio Liceo Nacional&#39;, &#39;IETecnico Industrial Pedro A. Oñoro&#39;, &#39;Liceo Comercial Del Caribe&#39;, &#39;IED Las Mercedes San Pablo&#39;, &#39;Enrique Olaya Herrera-Jornada Mañana&#39;, &#39;Colegio Bachillerato Gabriel Escobar B.-Jornada Mañana&#39;, &#39;Colegio Tecnico Metropolitano De Barranquilla Parque Educativo&#39;, &#39;Colegio De La Esperanza&#39;, &#39;Colegio Sagrado Corazon De Jesus&#39;, &#39;Institucion Educativa Rafael Navia Varon-Jornada Mañana&#39;, &#39;IED El Campito&#39;, &#39;Institucion Educativa Maria Goretti&#39;, &#39;Instituto Centro De Sistemas Avanzados-Jornada Mañana&#39;, &#39;Institucion Educativa Mercedes Abrego&#39;, &#39;Colegio Arquidiocesano San Pancracio&#39;, &#39;Instituto Freinet&#39;, &#39;Colegio Eucaristico De Santa Teresa&#39;, &#39;Colegio Cristo Rey&#39;, &#39;Colegio Departamental Liceo Santander-Jornada Mañana&#39;, &#39;IE Juan XXIII&#39;, &#39;Institucion Educativa Docente De Turbaco-Jornada Mañana&#39;, &#39;Colegio Departamental Antonio Bruges Carmona&#39;, &#39;Instituto Adventista De Cucuta&#39;, &#39;Ateneo Moderno&#39;, &#39;Colegio Agustin Nieto Caballero&#39;, &#39;Colegio Cajamag&#39;, &#39;Instituto Marliam&#39;, &#39;Institucion Educativa Valores Unidos-Jornada Nocturna&#39;, &#39;IED Pestalozzi - Jornada Tarde&#39;, &#39;Gimnasio Del Caribe - Jornada Mañana&#39;, &#39;Colegio Departamental Liceo Ariguani-Jornada Mañana&#39;, &#39;Institucion Educativa De La Sagrada Familia-Sede Principal&#39;, &#39;Liceo Mixto San Jose&#39;, &#39;Colegio Domingo Savio&#39;, &#39;Colegio Cristiano La Esperanza&#39;, &#39;Colegio Gimnasio Americano Christian International School&#39;, &#39;Institucion Educativa Francisco Jose De Caldas-Jornada Nocturna&#39;, &#39;Colegio Bachillerato Roig Y Villalba-Jornada Mañana&#39;, &#39;Institucion Educativa Eloy Quintero Araujo-Jornada Mañana&#39;, &#39;Institucion Educativa Lic Fe Y Alegria Santiago Canabal&#39;, &#39;Colegio Militar Almirante Colon-Jornada Mañana&#39;, &#39;IE Benito Ramos Trespalacios-Jornada Mañana&#39;, &#39;Institucion Educativa Tecnica Agropecuaria Alfredo Nobel-Jornada Mañana&#39;, &#39;Colegio Distrital Dario Echandia-Jornada Mañana&#39;, &#39;Corporacion Educativa Niño Jesus-Sede Principal&#39;, &#39;Institucion Educativa Bicentenario De La Independencia De La Republica De Colombia-Sede Principal&#39;, &#39;Colegio Retos&#39;, &#39;Institucion Educativa  Trujillo&#39;, &#39;IED José Consuegra Higgins -Jornada Nocturna&#39;, &#39;IE Benito Ramos Trespalacios - Jornada Tarde&#39;, &#39;Tecnico Cristo Rey&#39;, &#39;Colegio Niño Jesus De Praga&#39;, &#39;IE Tecnica Juan V. Padilla - Jornada Mañana&#39;, &#39;IE Tecnica Industrial Y Comercial De Soledad&#39;, &#39;Corporacion Centroregional(Cocercas)-Jornada Nocturna&#39;, &#39;Institucion Educativa Santa Clara&#39;, &#39;Institucion Educativa Escuela Normal Superior De Maria-Jornada Completa&#39;, &#39;Colegio Pablo Sexto&#39;, &#39;Colegio Distrital El Cañahuate-Jornada Nocturna&#39;, &#39;IED Jesus Maestro&#39;, &#39;Institucion Educativa La Bermeja-Sede Principal&#39;, &#39;Colegio Hispanoamericano&#39;, &#39;Colegio Nuestra Señora De La Salud&#39;, &#39;Institucion Educativa Joaquin Ochoa Maestre-Jornada Mañana&#39;, &#39;Centro Educativo El Niño Jesus&#39;, &#39;Institucion Educativa Oswaldo Ochoa Becerra-Sede Principal&#39;, &#39;Colegio Alberto Lleras Camargo-Jornada Mañana&#39;, &#39;IE Liceo Mayor De Soledad Rafael U Lafaurie Rivera&#39;, &#39;Centro Educativo La Esperanza&#39;, &#39;Institucion Educativa Tecnica Agropecuaria Antonio Nariño De Paluato-Sede Principal&#39;, &#39;Institucion Educativa Francisco Jose De Caldas-Sede Principal-Jornada Mañana&#39;, &#39;Colegio Campestre Horizontes&#39;, &#39;Colegio Cooperativo De Apartado Carlos Arturo Roldan Betancur-Jornada Sabatina&#39;, &#39;Nuevo Gimnasio del Country&#39;, &#39;IE Cristobal Colon de Soledad - Jornada Mañana&#39;, &#39;Colegio Comunitario Distrital Villa Del Carmen (C.C.E.B. #183)-Jornada Tarde&#39;, &#39;IE Sagrado Corazon - Jornada Tarde&#39;, &#39;Santa Teresita-Jornada Tarde&#39;, &#39;Institucion Educativa Diversificada Oriental de Santo Tomas-Jornada Nocturna&#39;, &#39;Institucion Educativa San Marcos-Jornada Tarde&#39;, &#39;Institucion Educativa Pablo Vi-Jornada Mañana&#39;, &#39;IE Nuestra Señora Del Carmen&#39;, &#39;Icfes&#39;, &#39;Colegio Fisher School&#39;, &#39;Colegio Bachillerato Roig Y Villalba-Jornada Nocturna&#39;, &#39;Institucion Educativa Jose Yemail Tous-Sede Principal&#39;, &#39;Colegio Sister Johanna&#39;, &#39;Gimnasio Altair De La Sabana&#39;, &#39;Liceo Moderno Madre Laura&#39;, &#39;Corporación Educativa La Concepción&#39;, &#39;Corporacion Educativa Colegio Alter Alteris&#39;, &#39;Colegio Del Sagrado Corazon De Jesus Bethlemitas&#39;, &#39;IED Liceo Pivijay - Jornada Mañana&#39;, &#39;Colegio De Los Pensionados De La Policia Nacional Esperanza Y Paz (Coopepaz)&#39;, &#39;IETVilla  Olímpica - INETVOL&#39;, &#39;Colegio Siglo XXI&#39;, &#39;Colegio Cristiano J. Vender Murphy-Sede Principal&#39;, &#39;IED Ciudadela 20 De Julio -Jornada Mañana&#39;, &#39;Colegio_sin_identificar&#39;, &#39;Colegio Maria Auxiliadora Norte&#39;, &#39;Institucion Educativa Tecnica De Tacamocho-Sede Principal&#39;, &#39;Institucion Educativa Marcos Fidel Suarez-Sede Principal&#39;, &#39;Institucion Educativa Misional Santa Teresita&#39;, &#39;Colegio Emiliano Santiago Quintero&#39;, &#39;Institucion Educativa  Vasco Nuñez De Balboa-Sede Principal&#39;, &#39;IE Bicentenario De Soledad&#39;, &#39;Colegio Jorge Isaacs&#39;, &#39;IE Buenavista - Jornada Mañana&#39;, &#39;Institucion Educativa Pio XII - Jornada Tarde&#39;, &#39;Colegio Latinoamericano&#39;, &#39;Colegio Internacional Cartagena&#39;, &#39;IED La Victoria&#39;, &#39;Colegio Luis Amigo&#39;, &#39;Colegio Naval De Crespo&#39;, &#39;Institucion Educativa San Jose-Sede Principal&#39;, &#39;Instituto Mix de Cultura - Imdec&#39;, &#39;Colegio Santa Mariana De Jesus&#39;, &#39;Institucion Educativa Distrital Antonio Jose De Sucre-Jornada Mañana&#39;, &#39;Colegio Nuestra Señora Del Pilar - Jornada Nocturna&#39;, &#39;Instituto Maria Montesori&#39;, &#39;Institucion Educativa El Viajano&#39;, &#39;Gimnasio Modelia Real-Sede Principal&#39;, &#39;La Troja&#39;, &#39;IE Gustin Santacruz&#39;, &#39;Institucion Educativa Las Americas-Jornada Mañana&#39;, &#39;Colegio Leon Magno&#39;, &#39;IE La Aguada&#39;, &#39;Institucion Educativa Rafael Salazar-Sede Principal-Jornada Nocturna&#39;, &#39;Colegio Bas Fidel De Monclart-Jornada Sabatina&#39;, &#39;Inem Luis Lopez De Mesa-Jornada Mañana&#39;, &#39;Instituto San Pablo Apostol-(Direccion: Kr 24 B 29 A 02 Sur)&#39;, &#39;Colegio La Nueva Esperanza&#39;, &#39;Escuela Normal Superior De Cartagena De Indias-Jornada Mañana&#39;, &#39;Institucion Educativa El Siglo&#39;, &#39;Gimnacio Bilingá¼e Moderno-Sede Principal&#39;, &#39;Institucion Educativa Municipal Nacional-Sede Principal-Jornada Nocturna&#39;, &#39;IE Maryland&#39;, &#39;Institucion Educativa De Sabanalarga-Jornada Mañana&#39;, &#39;Instituto Infantil Y Juvenil&#39;, &#39;Colegio Bureche&#39;, &#39;Colegio Beato Juan Xxiii-Sede Principal&#39;, &#39;Colegio Gimnasio Del Bosque&#39;, &#39;Centro Educativo San Jose De Saco&#39;, &#39;Colegio Fernandez Gutierrez De Piñeres&#39;, &#39;Colegio La Anunciacion&#39;, &#39;Prudencia Daza-Jornada Mañana&#39;, &#39;Institucion Educativa 20 De Enero&#39;, &#39;First Baptist School -Jornada Tarde&#39;, &#39;Colegio Evita Rosso&#39;, &#39;Coorporación Técnica de Colombia&#39;, &#39;Colegio Montessori&#39;, &#39;Centro De Capacitacion Especial Cencaes&#39;, &#39;Colegio Santa Cruz De Mompos&#39;, &#39;Colegio Distrital Buenos Aires (Antes C.E.B. # 085)&#39;, &#39;Centro Educativo Juana Arias De Benavides-Jornada Mañana&#39;, &#39;Instituto Departamental Comercial Y Agricola Ignacio Pescador-Jornada Completa&#39;, &#39;Institucion Educativa Las Llanadas-Jornada Mañana&#39;, &#39;I.E.D. Marco Fidel Suarez-Jornada Mañana&#39;, &#39;Colegio Distrital Sarid Arteta De Vasquez (Antes C.E.B. # 035) -Jornada Diurna&#39;, &#39;Colegio Cooperativo Comfenalco&#39;, &#39;Colegio Padre Luis Variara&#39;, &#39;Colegio Comfamiliar Del Atlantico&#39;, &#39;Institucion Educativa Antonia Santos&#39;, &#39;Institucion Educativa Camilo Torres-Jornada Tarde&#39;, &#39;Instituto Tecnico Agropecuario&#39;, &#39;Centro Educativo Liceo Del Caribe-Sede Principal&#39;, &#39;Instituto Bilingue Del Norte&#39;, &#39;Institucion Educativa Manuel J. Del Castillo-Jornada Tarde&#39;, &#39;Jorge Isaac-Jornada Completa&#39;, &#39;Centro De Adultos Jorge Eliecer Gaitan&#39;, &#39;Sede Principal No. 7 Maria Antonia Ruiz&#39;, &#39;Gimnasio Moderno De Cartagena&#39;, &#39;IE Los Palmitos&#39;, &#39;IE De Soledad - Inobasol - Jornada Tarde&#39;, &#39;Institucion Educativa San Pablo De Polonuevo-Jornada Mañana&#39;, &#39;IED Colegio Técnico el Santuario -Jornada Tarde&#39;, &#39;Institucion Educativa Escuela Normal Superior De Bucaramanga Sede C&#39;, &#39;Institucion Educativa Callejon-Sede Principal&#39;, &#39;Jose Eustasio Rivera-Jornada Nocturna&#39;, &#39;Institucion Educativa Distrital San Salvador-Sede 1-Jornada Mañana&#39;, &#39;Liceo Campestre Jean Piaget-Sede Principal-Jornada Sabatina&#39;, &#39;Corporacion Instituto Ciry&#39;, &#39;Isabel Maria Cuesta Gonzalez-Jornada Tarde&#39;, &#39;IED Para El Desarrollo Humano Maria Cano -Jornada Mañana&#39;, &#39;Instituto Tecnico Nacional De Comercio-Jornada Tarde&#39;, &#39;Colegio Nuestra Señora De Nazareth&#39;, &#39;Institucion Educativa Distrital San Miguel Arcangel (Antes C.E.B #210)-Jornada Mañana&#39;, &#39;Institucion Educativa Distrital Rur Palermo&#39;, &#39;Institucion Educativa San Bartolome De La Florida&#39;, &#39;Institucion Educativa Promocion Social De Cartagena-Jornada Tarde&#39;, &#39;Centro Educativo Bas Elvia Vizcaino De Todaro&#39;, &#39;Franciscano San Luis Rey&#39;, &#39;Instituto Tecnico Padre Eladio Agudelo Paz Y Futuro-Jornada Sabatina&#39;, &#39;Ciudadela Educativa Y Cultural Olga Emiliani&#39;, &#39;Liceo Samario-Jornada Nocturna&#39;, &#39;Liceo Femenino Nuestra Señora Del Pilar-Sede Principal&#39;, &#39;Santa Catalina De Siena-Sede Principal-Jornada Nocturna&#39;, &#39;Colegio Octaviana Del C. Vives C-Jornada Mañana&#39;, &#39;Institucion Educativa Carlota Sanchez-Jornada Tarde&#39;, &#39;Colegio Nuestra Señora Del Carmen&#39;, &#39;Colegio Once De Noviembre-Jornada Mañana&#39;, &#39;Institucion Educativa Departamental-Jornada Completa&#39;, &#39;Institucion Educativa Tecnica Jorge Ardila Duarte&#39;, &#39;Institucion Educativa Normal Superior De Mompox-Sede Principal&#39;, &#39;Colegio Idphu Bilingue De Santa Marta&#39;, &#39;IE.No. 2 - Colegio La Inmaculada - Jornada Mañana&#39;, &#39;Institucion Educativa Distrital La Merced&#39;, &#39;IED De Desarrollo Humanista y Empresarial Bill Gates - Jornada Completa&#39;, &#39;IE Normal Superior De Sincelejo-Jornada Mañana&#39;, &#39;Colegio Francisco Fernandez De Contreras-Jornada Tarde&#39;, &#39;IED La Union&#39;, &#39;IE.No. 2 - Colegio La Inmaculada - Jornada Sabatina&#39;, &#39;Colegio Nuestra Señora De La Presentacion-Jornada Tarde&#39;, &#39;Colegio La Sagrada Familia&#39;, &#39;IED Comunitaria Octavio Paz (Antes Ceb-182)&#39;, &#39;Instituto Tecnico Juan Xxiii-Jornada Completa&#39;, &#39;Institucion Educativa Ema Troncoso Rabelo-Sede Principal&#39;, &#39;Escuela Normal Superior Maria Auxiliadora&#39;, &#39;Colegio San Juan De Giron&#39;, &#39;Instituto Midia Leonor Castellon De Sanchez&#39;, &#39;Institucion Educativa Aureliano Florez Cardona-Jornada Mañana&#39;, &#39;Colegio Santa Teresita&#39;, &#39;Colegio Distrital Camilo Torres Tenorio&#39;, &#39;Institucion Educativa Tecnica Promocion Social&#39;, &#39;Jose Maria Cordoba-Jornada Mañana&#39;, &#39;Instituto Maria Bernarda Butler&#39;, &#39;Instituto Tecnico Agropecuario-Sede Principal&#39;, &#39;Colegio Bachillerato Gabriel Escobar B.-Jornada Nocturna&#39;, &#39;Ciudad Escolar De Comfenalco-Jornada Tarde&#39;, &#39;Institucion Educativa Los Nisperos-Sede Principal&#39;, &#39;Institucion Educativa Benicio Agudelo-Jornada Mañana&#39;, &#39;IEComercial De Palmar-Jornada Mañana&#39;, &#39;Institucion Educativa Colegio Municipal Aeropuerto-Jornada Mañana&#39;, &#39;Instituto Jose Maria Campo Serrano-Jornada Mañana&#39;, &#39;IED Hugo J. Bermudez - Jornada Tarde&#39;, &#39;Liceo Caucasia 1a. Agrupacion-Jornada Mañana&#39;, &#39;Institucion Educativa Medalla Milagrosa&#39;, &#39;Centro Educativo Bas Etnoeducativo Soplador&#39;, &#39;IE Inem Miguel Antonio Caro-Jornada Mañana&#39;, &#39;Alfonso Araujo Cotes-Jornada Sabatina&#39;, &#39;Institucion Educativa Distrital San Jose-Jornada Mañana&#39;, &#39;Colegio Bilingá¼e Jose Allamano-Sede Principal&#39;, &#39;Escuela Normal San Pedro Alejandrino&#39;, &#39;Instituto Centro De Sistemas S.A.S.&#39;, &#39;Centro De Educacion Para Adultos Jerusalem-Sede Principal&#39;, &#39;Colegio La Medalla Milagrosa&#39;, &#39;IE Angela Maria Torres Suarez - Jornada Mañana&#39;, &#39;Institucion Educativa Luis Carlos Galan&#39;, &#39;Instituto Tecnico Comercial Jose Eugenio Martinez-Jornada Nocturna&#39;, &#39;Institucion Educativa Simon Bolivar-Jornada Tarde&#39;, &#39;IE Francisco De Paula Santander-Jornada Tarde&#39;, &#39;Centro Educativo Santa Teresita&#39;, &#39;IE De Sabanalarga Fernando Hoyos Ripoll-Jornada Tarde&#39;, &#39;Gimnasio Cerromar&#39;, &#39;Institucion Educativa De Galeras-Sede Principal-Jornada Mañana&#39;, &#39;IED Juan Acosta Solera-Jornada Tarde&#39;, &#39;Instituto Docente Del Caribe-Jornada Mañana&#39;, &#39;IED Ciudadela 20 De Julio -Jornada Nocturna&#39;, &#39;Institucion Educativa Don Quijote 01&#39;, &#39;IE Francisco Jose De Caldas - Jornada Tarde&#39;, &#39;Colegio Nuestra Señora De Las Mercedes&#39;, &#39;IEDistrital Jorge Robledo Ortiz -Jornada Tarde&#39;, &#39;IED San Vicente De Paul - Jornada Tarde&#39;, &#39;Colegio Corazonista&#39;, &#39;Instituto Cartagena. Del Mar-Jornada Tarde&#39;, &#39;IE Eusebio Septimio Mari&#39;, &#39;Institucion Educativa Daniel Alfonso Paz Alvarez&#39;, &#39;Institucion Educativa San Jose&#39;, &#39;Colegio Remedios Catalina Amaya&#39;, &#39;Colegio Del Sagrado Corazon De Jesus-Hnas. Bethlemitas-Jornada Completa&#39;, &#39;Liceo Metropolitano De Soledad-Jornada Mañana&#39;, &#39;Centro De Educacion El Recreo &#39;, &#39;Colegio Gimnasio La Rivera&#39;, &#39;IE Marceliano Polo - Jornada Tarde&#39;, &#39;Institucion Educativa Adolfo Leon Bolivar Marenco De Suan-Sede Principal-Jornada Mañana&#39;, &#39;ID El Castillo De La Alboraya (Antes Ceb #131-139)&#39;, &#39;Colegio Distrital Los Rosales (Ant. C.E.B. # 206)&#39;, &#39;Colegio Municipal Carlos Vicente Rey-Jornada Sabatina&#39;, &#39;Colegio Mixto La Popa&#39;, &#39;Colegio Evangelico Ebenezer-Jornada Mañana&#39;, &#39;Escuela Normal Superior Santa Ana de Baranoa&#39;, &#39;IE Normal Superior De Sincelejo-Jornada Tarde&#39;, &#39;Colegio Agustin Codazzi&#39;, &#39;IE Tecnica De Comercio Virginia Gomez-Jornada Mañana&#39;, &#39;Colegio Fundacion Bilingue De Valledupar&#39;, &#39;Colegio Nuestra Señora De La Candelaria&#39;, &#39;Institucion Educativa La Inmaculada&#39;, &#39;Institucion Educativa Pio Xii-Jornada Mañana&#39;, &#39;I.E.D.Colombia&#39;, &#39;Colegio Sagrado Corazon De Jesus-Jornada Tarde&#39;, &#39;Colegio De Bachillerato Simon Bolivar&#39;, &#39;Prudencia Daza-Jornada Tarde&#39;, &#39;Liceo Samario-Jornada Mañana&#39;, &#39;Gimsaber&#39;, &#39;IE Santa Rosa De Lima&#39;, &#39;Madre Bernarda&#39;, &#39;Colegio Distrital San Gabriel (Antes C.E.B. #090)-Sede 1-Jornada Tarde&#39;, &#39;Institucion Educativa Santa Teresa De Jesus&#39;, &#39;Colegio Departamental Luis Carlos Galan Sarmiento&#39;, &#39;Gimnasio Cartagena De Indias&#39;, &#39;Instituto Para El Desarrollo Del Potencial Humano - IDPHU&#39;, &#39;Liceo General Serviez&#39;, &#39;Liceo Bolivariano Julio Bustamante&#39;, &#39;Colegio El Carmelo&#39;, &#39;Institucion Educativa Isabel La Catolica&#39;, &#39;Colegio Humberto Gomez Nigrinis Sede Principal-Jornada Tarde&#39;, &#39;Institucion Educativa Eduardo Suarez Orcasita-Jornada Mañana&#39;, &#39;Institucion Educativa Distrital Despertar Del Sur Sede 2-Jornada Nocturna&#39;, &#39;Ciudad Escolar De Comfenalco-Jornada Completa&#39;, &#39;Colegio San Fernando&#39;, &#39;Instituto Agricola De Fonseca&#39;, &#39;Centro Educativo San Juan Bosco De Soledad-Jornada Tarde&#39;, &#39;Gimnasio Lujan&#39;, &#39;Institucion Educativa Diogenes Arrieta-Sede Principal-Jornada Mañana&#39;, &#39;Colegio Distrital Rafael Bernal Jimenez-Jornada Nocturna&#39;, &#39;Institucion Educativa Distrital Madres Catolicas (Antes C.E.B. # 128)&#39;, &#39;Liceo Paternina-Sede Principal&#39;, &#39;IE San Bernardo - Jornada Tarde&#39;, &#39;Institucion Educativa Sagrado Corazon De Jesus-Jornada Tarde&#39;, &#39;Bachillerato Buenos Aires-Jornada Mañana&#39;, &#39;Institucion Educativa Distrital Nestor Andres Rangel Alfaro&#39;, &#39;Colegio Sociedad De Cristo&#39;, &#39;Colegio Distrital Nuevo Bosque (Antes C.E.B. #071)-Jornada Tarde&#39;, &#39;IED El Paraiso&#39;, &#39;IED Delicias San Carlos - IDESCO&#39;, &#39;Bogotá D.C.&#39;, &#39;Cucuta&#39;, &#39;Sabanalarga&#39;, &#39;Lorica&#39;, &#39;Magangue&#39;, &#39;Galapa&#39;, &#39;Fonseca&#39;, &#39;Bucaramanga&#39;, &#39;Montelibano&#39;, &#39;Cerete&#39;, &#39;Tolu&#39;, &#39;Cienaga&#39;, &#39;La Jagua De Ibirico&#39;, &#39;Villavicencio&#39;, &#39;Juan De Acosta&#39;, &#39;Sahagun&#39;, &#39;San Andres&#39;, &#39;Mompos&#39;, &#39;Coveñas&#39;, &#39;Plato&#39;, &#39;Ovejas&#39;, &#39;Turbaco&#39;, &#39;Chinu&#39;, &#39;Baranoa&#39;, &#39;Codazzi&#39;, &#39;La Union&#39;, &#39;San Juan Nepomuceno&#39;, &#39;Ocaña&#39;, &#39;Villanueva&#39;, &#39;Cienaga De Oro&#39;, &#39;La Dorada&#39;, &#39;Mahates&#39;, &#39;Repelon&#39;, &#39;Sitionuevo&#39;, &#39;Piedecuesta&#39;, &#39;La Florida&#39;, &#39;Pivijay&#39;, &#39;El Paso&#39;, &#39;Becerril&#39;, &#39;Rionegro&#39;, &#39;Cali&#39;, &#39;Palmito&#39;, &#39;Puerto Libertador&#39;, &#39;Tierralta&#39;, &#39;Cordoba&#39;, &#39;Granada&#39;, &#39;Barrancas&#39;, &#39;Balboa&#39;, &#39;Buenavista&#39;, &#39;San Bernardo Del Vie&#39;, &#39;Armenia&#39;, &#39;Fundacion&#39;, &#39;Uribia&#39;, &#39;Chivolo&#39;, &#39;Arauca&#39;, &#39;Leticia&#39;, &#39;San Pelayo&#39;, &#39;Nashville&#39;, &#39;Turbana&#39;, &#39;Tumaco&#39;, &#39;Ayapel&#39;, &#39;San Marcos&#39;, &#39;Paramo&#39;, &#39;El Banco&#39;, &#39;La Apartada Y La Frontera&#39;, &#39;Apartado&#39;, &#39;Majagual&#39;, &#39;Santa Rosa Del Sur&#39;, &#39;Pitalito&#39;, &#39;Baraya&#39;, &#39;Soacha&#39;, &#39;Gamarra&#39;, &#39;Moñitos&#39;, &#39;Mocoa&#39;, &#39;La Plata&#39;, &#39;Santa Ana&#39;, &#39;Momil&#39;, &#39;Onzaga&#39;, &#39;El Dificil&#39;, &#39;Bosconia&#39;, &#39;Teorama&#39;, &#39;Santo Tomás&#39;, &#39;Bugalagrande&#39;, &#39;San Onofre&#39;, &#39;El Roble&#39;, &#39;Velez&#39;, &#39;Suan&#39;, &#39;Tulua&#39;, &#39;Facatativa&#39;, &#39;Anserma&#39;, &#39;Gualmatan&#39;, &#39;Tauramena&#39;, &#39;Santa Helena Del Opon&#39;, &#39;Achi&#39;, &#39;Palmar De Varela&#39;, &#39;Aguachica&#39;, &#39;Caucasia&#39;, &#39;Giron&#39;, &#39;Arenal&#39;, &#39;Pereira&#39;, &#39;Los Patios&#39;, &#39;Nocaima&#39;, &#39;San Gil&#39;, &#39;Zapatoca&#39;, &#39;Cajamarca&#39;, &#39;El Guacamayo&#39;, &#39;Since&#39;, &#39;Tenerife&#39;, &#39;Planeta Rica&#39;, &#39;Galeras&#39;, &#39;San Jose Del Fragua&#39;, &#39;Arjona&#39;, &#39;Guamal&#39;, &#39;San Juan Del Cesar&#39;, &#39;San Jacinto&#39;, &#39;Ibague&#39;, &#39;Choachi&#39;, &#39;Caracas&#39;, &#39;Polonuevo&#39;, &#39;Zona Bananera&#39;, &#39;Saravena&#39;, &#39;Aracataca&#39;, &#39;Curumani&#39;, &#39;Los Palmitos&#39;, &#39;El Copey&#39;, &#39;Bogotá&#39;, &#39;Meta&#39;, &#39;Antioquía&#39;, &#39;Archipielago de S.A.y Providen&#39;, &#39;Valle del Cauca&#39;, &#39;Nariño&#39;, &#39;Cundinamarca&#39;, &#39;Caldas&#39;, &#39;Huila&#39;, &#39;Tolima&#39;, &#39;Quindio&#39;, &#39;Arauca&#39;, &#39;Cauca&#39;, &#39;Casanare&#39;, &#39;Risaralda&#39;, &#39;Distrito Capital&#39;, &#39;Caquetá&#39;, &#39;Amazonas&#39;, &#39;Putumayo&#39;, &#39;Tennessee&#39;, &#39;-&#39;, &#39;390-399&#39;, &#39;410-419&#39;, &#39;400-409&#39;, &#39;210-219&#39;, &#39;230-239&#39;, &#39;420-429&#39;, &#39;200-209&#39;, &#39;190-199&#39;, &#39;180-189&#39;, &#39;430-439&#39;, &#39;Cerete&#39;, &#39;Magangue&#39;, &#39;Cucuta&#39;, &#39;Lorica&#39;, &#39;Baranoa&#39;, &#39;Cienaga&#39;, &#39;Chinu&#39;, &#39;Plato&#39;, &#39;San Andres&#39;, &#39;Ocaña&#39;, &#39;Villavicencio&#39;, &#39;Fonseca&#39;, &#39;Floridablanca&#39;, &#39;Montelibano&#39;, &#39;Medellin&#39;, &#39;Villanueva&#39;, &#39;Mompos&#39;, &#39;Tolu&#39;, &#39;Ovejas&#39;, &#39;Puerto Libertador&#39;, &#39;Talaigua Nuevo&#39;, &#39;Becerril&#39;, &#39;Aracataca&#39;, &#39;San Gil&#39;, &#39;Los Palmitos&#39;, &#39;San Marcos&#39;, &#39;Sahagun&#39;, &#39;Tierralta&#39;, &#39;Sucre&#39;, &#39;San Jacinto&#39;, &#39;Codazzi&#39;, &#39;La Dorada&#39;, &#39;Puerto Colombia&#39;, &#39;San Juan Del Cesar&#39;, &#39;Florencia&#39;, &#39;Santo Domingo&#39;, &#39;Guamal&#39;, &#39;Arjona&#39;, &#39;Palmar de Varela&#39;, &#39;Sitionuevo&#39;, &#39;Caracas&#39;, &#39;El Banco&#39;, &#39;San Vicente de  Chuc&#39;, &#39;Arauca&#39;, &#39;Luruaco&#39;, &#39;Ibague&#39;, &#39;La Jagua de Ibirico&#39;, &#39;Concordia&#39;, &#39;Palmito&#39;, &#39;Ciudad de México&#39;, &#39;Pivijay&#39;, &#39;San Juan Nepomuceno&#39;, &#39;Ayapel&#39;, &#39;Popayan&#39;, &#39;Barrancabermeja&#39;, &#39;Malambo&#39;, &#39;San Bernardo Del Vie&#39;, &#39;Armenia&#39;, &#39;Cordoba&#39;, &#39;Pereira&#39;, &#39;Sabanagrande&#39;, &#39;San Antero&#39;, &#39;Tibu&#39;, &#39;Santo Tomás&#39;, &#39;Fundacion&#39;, &#39;La Florida&#39;, &#39;Bosconia&#39;, &#39;Leticia&#39;, &#39;El Colegio&#39;, &#39;Simiti&#39;, &#39;El Paso&#39;, &#39;Momil&#39;, &#39;Zapayan&#39;, &#39;Juan de Acosta&#39;, &#39;Santa Ana&#39;, &#39;Turbana&#39;, &#39;Tumaco&#39;, &#39;Duitama&#39;, &#39;Turbo&#39;, &#39;La Union&#39;, &#39;Turbaco&#39;, &#39;Teorama&#39;, &#39;Balboa&#39;, &#39;Cienaga de Oro&#39;, &#39;Uribia&#39;, &#39;Baraya&#39;, &#39;Barrancas&#39;, &#39;Buga&#39;, &#39;Pitalito&#39;, &#39;Piojo&#39;, &#39;Cartagena Del Chaira&#39;, &#39;Mocoa&#39;, &#39;La Plata&#39;, &#39;Granada&#39;, &#39;Caucasia&#39;, &#39;El Carmen de Bolivar&#39;, &#39;La Habana&#39;, &#39;Since&#39;, &#39;Cali&#39;, &#39;Rio de Janeiro&#39;, &#39;Tunja&#39;, &#39;Anserma&#39;, &#39;Tauramena&#39;, &#39;Hatonuevo&#39;, &#39;Santa Helena Del Opon&#39;, &#39;Achi&#39;, &#39;Quito&#39;, &#39;Galapa&#39;, &#39;El Zulia&#39;, &#39;Arenal&#39;, &#39;Gonzalez&#39;, &#39;Choachi&#39;, &#39;Buenaventura&#39;, &#39;Fusagasuga&#39;, &#39;Buenavista&#39;, &#39;Colombia&#39;, &#39;El Piñon&#39;, &#39;Curumani&#39;, &#39;San Martin&#39;, &#39;San Pedro de Uraba&#39;, &#39;Chalan&#39;, &#39;Yolombo&#39;, &#39;Puerto Carreño&#39;, &#39;Acandi&#39;, &#39;La Paz&#39;, &#39;Ariguaní&#39;, &#39;Sao Paulo&#39;, &#39;Tenerife&#39;, &#39;Santa Rosa Del Sur&#39;, &#39;El Copey&#39;, &#39;Antioquía&#39;, &#39;Meta&#39;, &#39;Archipielago de S.A.y Providen&#39;, &#39;Caldas&#39;, &#39;Huila&#39;, &#39;Caquetá&#39;, &#39;Valle del Cauca&#39;, &#39;Nariño&#39;, &#39;Cundinamarca&#39;, &#39;Santo Domingo de los Tsachilas&#39;, &#39;Cauca&#39;, &#39;Boyacá&#39;, &#39;Distrito Capital&#39;, &#39;Tolima&#39;, &#39;Arauca&#39;, &#39;Risaralda&#39;, &#39;Estados Unidos Mexicanos&#39;, &#39;Quindio&#39;, &#39;Rio de Janeiro&#39;, &#39;La Habana&#39;, &#39;Casanare&#39;, &#39;Vichada&#39;, &#39;Sao Paulo&#39;, &#39;Chocó&#39;, &#39;Quito&#39;, &#39;Amazonas&#39;, &#39;Putumayo&#39;, &#39;Raizales&#39;, &#39;Mokaná&#39;, &#39;Otras comunidades negras&#39;, &#39;Kankuamo&#39;, &#39;Yuko (yukpa)&#39;, &#39;Kamsa o kamá«ntsá&#39;, &#39;Muisca&#39;, &#39;Pijaos&#39;, &#39;Inga&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">columna</span> <span class="ow">in</span> <span class="n">categoricas</span><span class="p">:</span>
    <span class="n">geodf</span><span class="p">[</span><span class="n">columna</span><span class="p">]</span> <span class="o">=</span> <span class="n">geodf</span><span class="p">[</span><span class="n">columna</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;otro&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">categorias_bajas_frecuencia</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Define la variable objetivo o Target</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span><span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="s1">&#39;IND_MATRICULADO&#39;</span><span class="p">]</span>
<span class="n">geodf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;IND_MATRICULADO&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">categoricas</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;DISCAPACIDAD&#39;, &#39;IND_COMPLETA&#39;, &#39;IND_ACEPTADA&#39;, &#39;Ind_Sol_01_69_75&#39;,
       &#39;IND_MATRICULADO&#39;, &#39;SEXO&#39;, &#39;CIUDADANIA&#39;, &#39;ATRIBUTOS&#39;, &#39;DESC_DPTO1&#39;,
       &#39;DESC_MUNICIPIO1&#39;, &#39;DESC_PAIS1&#39;, &#39;ESTADO_SOLICITUD&#39;, &#39;TIPO_ESTUDIANTE&#39;,
       &#39;TASA&#39;, &#39;DESC_PROGRAMA1&#39;, &#39;Desc_Division1&#39;, &#39;ESTRATO&#39;,
       &#39;DESC_BACHILLERATO&#39;, &#39;CIUDAD_BACHILLERATO&#39;, &#39;DESC_DPTO_BACHILLERATO&#39;,
       &#39;DESC_PAIS_BACHILLERATO&#39;, &#39;COLEGIO_PRIVADO&#39;, &#39;COLEGIO_BILINGUE&#39;,
       &#39;Rango&#39;, &#39;TIPO_DECISION&#39;, &#39;DESC_DECISION&#39;, &#39;PAGO_01_02&#39;,
       &#39;CIUDAD_NACIMIENTO&#39;, &#39;DPTO_NACIMIENTO&#39;, &#39;PAIS_NACIMIENTO&#39;,
       &#39;PAIS_NACIONALIDAD&#39;, &#39;IDIOMA_NATIVO&#39;, &#39;GRUPO_ETNICO&#39;, &#39;BECADO_GOB&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Ultima depuracion de variables categoricas antes del OHE</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">eliminar</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;PAGO_01_02&#39;</span><span class="p">,</span> <span class="s1">&#39;Ind_Sol_01_69_75&#39;</span><span class="p">,</span><span class="s1">&#39;Desc_Division1&#39;</span><span class="p">,</span> <span class="s1">&#39;DESC_PROGRAMA1&#39;</span><span class="p">]</span>
<span class="n">geodf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">eliminar</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">categoricas</span><span class="o">=</span><span class="p">(</span><span class="n">geodf</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">]))</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="aplicando-one-hot-encoder">
<h3>APLICANDO ONE HOT ENCODER<a class="headerlink" href="#aplicando-one-hot-encoder" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ndf</span><span class="o">=</span><span class="n">geodf</span><span class="p">[</span><span class="n">categoricas</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">OneHotEncoder</span>

<span class="n">encoder</span> <span class="o">=</span> <span class="n">OneHotEncoder</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">encoded_features</span> <span class="o">=</span> <span class="n">encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">ndf</span><span class="p">)</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">encoder</span><span class="o">.</span><span class="n">get_feature_names_out</span><span class="p">(</span><span class="n">input_features</span><span class="o">=</span><span class="n">ndf</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Convertir las características codificadas a un DataFrame</span>
<span class="n">encoded_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">encoded_features</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">feature_names</span><span class="p">)</span>

<span class="c1"># Ahora, encoded_df es tu DataFrame con características codificadas</span>
<span class="n">encoded_df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>DISCAPACIDAD_04:Sensorial - Baja Visión</th>
      <th>DISCAPACIDAD_09:Discapacidad Física o motora</th>
      <th>DISCAPACIDAD_11:Trastorno del Espectro Autista</th>
      <th>IND_ACEPTADA_Y</th>
      <th>SEXO_M</th>
      <th>CIUDADANIA_E</th>
      <th>ATRIBUTOS_BECS - Beca Colseguros</th>
      <th>ATRIBUTOS_BEEX - Beca Talento Promigas</th>
      <th>ATRIBUTOS_BEMI - Beca Mejor Icfes</th>
      <th>ATRIBUTOS_BEOC - Beca Orgullo Caribe</th>
      <th>...</th>
      <th>PAIS_NACIMIENTO_otro</th>
      <th>PAIS_NACIONALIDAD_Cuba</th>
      <th>PAIS_NACIONALIDAD_México</th>
      <th>PAIS_NACIONALIDAD_otro</th>
      <th>GRUPO_ETNICO_Afrocolombianos</th>
      <th>GRUPO_ETNICO_No aplica--</th>
      <th>GRUPO_ETNICO_Wayuu</th>
      <th>GRUPO_ETNICO_Zenú / senú</th>
      <th>GRUPO_ETNICO_otro</th>
      <th>BECADO_GOB_Y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>13</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1121</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>836</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>103</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>686</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1044</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>902</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>259</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>617</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>550</th>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>10 rows × 143 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geodf</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">categoricas</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">geodf</span><span class="p">,</span> <span class="n">encoded_df</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;df_concat.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="identificando-multicolinealidad">
<h3>IDENTIFICANDO MULTICOLINEALIDAD<a class="headerlink" href="#identificando-multicolinealidad" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">statsmodels.stats.outliers_influence</span> <span class="kn">import</span> <span class="n">variance_inflation_factor</span>

<span class="k">def</span> <span class="nf">calculate_vif</span><span class="p">(</span><span class="n">dataset</span><span class="p">):</span>
    <span class="n">vif</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="n">vif</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">columns</span>
    <span class="n">vif</span><span class="p">[</span><span class="s1">&#39;VIF_value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">variance_inflation_factor</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
    <span class="k">return</span> <span class="n">vif</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">eliminacion_vif</span><span class="p">(</span><span class="n">vif</span><span class="p">,</span><span class="n">df</span><span class="p">):</span>
  <span class="n">max_vif</span><span class="o">=</span> <span class="n">vif</span><span class="p">[</span><span class="s1">&#39;VIF_value&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
  <span class="k">if</span> <span class="n">max_vif</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-------------------------&#39;</span><span class="p">)</span>
    <span class="n">idxmax</span><span class="o">=</span><span class="n">vif</span><span class="p">[</span><span class="s1">&#39;VIF_value&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()</span> <span class="c1">#Hallar el valor maximo de la columna VIF_Value y traer el indice</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;eliminamos &#39;</span><span class="p">,</span><span class="n">vif</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">idxmax</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span><span class="s1">&#39; con VIF de: &#39;</span><span class="p">,</span> <span class="n">max_vif</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">((</span><span class="n">vif</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">idxmax</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="c1"># Con ese indice obtener el &quot;feature&quot; y eliminarlo de dataset</span>
    <span class="k">return</span> <span class="kc">True</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-------------------------&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Ya no hay valores vif mayores a 5&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfloat</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;float64&#39;</span><span class="p">,</span> <span class="s1">&#39;Int64&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">elimina</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">while</span> <span class="n">elimina</span><span class="p">:</span>
    <span class="n">vif</span> <span class="o">=</span> <span class="n">calculate_vif</span><span class="p">(</span><span class="n">dfloat</span><span class="p">)</span>
    <span class="n">elimina</span> <span class="o">=</span> <span class="n">eliminacion_vif</span><span class="p">(</span><span class="n">vif</span><span class="p">,</span> <span class="n">dfloat</span><span class="p">)</span>
    <span class="n">features</span><span class="o">=</span><span class="n">vif</span><span class="o">.</span><span class="n">features</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">vif</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-------------------------
eliminamos  CIUDADANIA_E  con VIF de:  inf
                                         features    VIF_value
0                                PERCENTIL_GLOBAL     3.942257
1                                          GLOBAL  8904.575263
2                                     MATEMATICAS   802.143058
3                                         LECTURA   553.997656
4                                        SOCIALES   652.607458
5                                       NATURALES   661.062921
6                                          INGLES   122.986134
7         DISCAPACIDAD_04:Sensorial - Baja Visión     1.126754
8    DISCAPACIDAD_09:Discapacidad Física o motora     1.119609
9  DISCAPACIDAD_11:Trastorno del Espectro Autista     1.108049
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">64</span><span class="p">],</span> <span class="n">line</span> <span class="mi">3</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">elimina</span> <span class="o">=</span> <span class="kc">True</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="k">while</span> <span class="n">elimina</span><span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">3</span>     <span class="n">vif</span> <span class="o">=</span> <span class="n">calculate_vif</span><span class="p">(</span><span class="n">dfloat</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="n">elimina</span> <span class="o">=</span> <span class="n">eliminacion_vif</span><span class="p">(</span><span class="n">vif</span><span class="p">,</span> <span class="n">dfloat</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">features</span><span class="o">=</span><span class="n">vif</span><span class="o">.</span><span class="n">features</span>

<span class="nn">Cell In[61], line 6,</span> in <span class="ni">calculate_vif</span><span class="nt">(dataset)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">vif</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">vif</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">columns</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="n">vif</span><span class="p">[</span><span class="s1">&#39;VIF_value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">variance_inflation_factor</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="k">return</span> <span class="n">vif</span>

<span class="nn">Cell In[61], line 6,</span> in <span class="ni">&lt;listcomp&gt;</span><span class="nt">(.0)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">vif</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">vif</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">columns</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="n">vif</span><span class="p">[</span><span class="s1">&#39;VIF_value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">variance_inflation_factor</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="k">return</span> <span class="n">vif</span>

<span class="nn">File ~\miniconda3\envs\venv2\lib\site-packages\statsmodels\stats\outliers_influence.py:197,</span> in <span class="ni">variance_inflation_factor</span><span class="nt">(exog, exog_idx)</span>
<span class="g g-Whitespace">    </span><span class="mi">195</span> <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">k_vars</span><span class="p">)</span> <span class="o">!=</span> <span class="n">exog_idx</span>
<span class="g g-Whitespace">    </span><span class="mi">196</span> <span class="n">x_noti</span> <span class="o">=</span> <span class="n">exog</span><span class="p">[:,</span> <span class="n">mask</span><span class="p">]</span>
<span class="ne">--&gt; </span><span class="mi">197</span> <span class="n">r_squared_i</span> <span class="o">=</span> <span class="n">OLS</span><span class="p">(</span><span class="n">x_i</span><span class="p">,</span> <span class="n">x_noti</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span><span class="o">.</span><span class="n">rsquared</span>
<span class="g g-Whitespace">    </span><span class="mi">198</span> <span class="n">vif</span> <span class="o">=</span> <span class="mf">1.</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.</span> <span class="o">-</span> <span class="n">r_squared_i</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">199</span> <span class="k">return</span> <span class="n">vif</span>

<span class="nn">File ~\miniconda3\envs\venv2\lib\site-packages\statsmodels\regression\linear_model.py:335,</span> in <span class="ni">RegressionModel.fit</span><span class="nt">(self, method, cov_type, cov_kwds, use_t, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">330</span> <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;pinv&quot;</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">331</span>     <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;pinv_wexog&#39;</span><span class="p">)</span> <span class="ow">and</span>
<span class="g g-Whitespace">    </span><span class="mi">332</span>             <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;normalized_cov_params&#39;</span><span class="p">)</span> <span class="ow">and</span>
<span class="g g-Whitespace">    </span><span class="mi">333</span>             <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;rank&#39;</span><span class="p">)):</span>
<span class="ne">--&gt; </span><span class="mi">335</span>         <span class="bp">self</span><span class="o">.</span><span class="n">pinv_wexog</span><span class="p">,</span> <span class="n">singular_values</span> <span class="o">=</span> <span class="n">pinv_extended</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">wexog</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">336</span>         <span class="bp">self</span><span class="o">.</span><span class="n">normalized_cov_params</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">337</span>             <span class="bp">self</span><span class="o">.</span><span class="n">pinv_wexog</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">transpose</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pinv_wexog</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">339</span>         <span class="c1"># Cache these singular values for use later.</span>

<span class="nn">File ~\miniconda3\envs\venv2\lib\site-packages\statsmodels\tools\tools.py:264,</span> in <span class="ni">pinv_extended</span><span class="nt">(x, rcond)</span>
<span class="g g-Whitespace">    </span><span class="mi">262</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">263</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">conjugate</span><span class="p">()</span>
<span class="ne">--&gt; </span><span class="mi">264</span> <span class="n">u</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">vt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">svd</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">265</span> <span class="n">s_orig</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">266</span> <span class="n">m</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="nn">File ~\miniconda3\envs\venv2\lib\site-packages\numpy\linalg\linalg.py:1681,</span> in <span class="ni">svd</span><span class="nt">(a, full_matrices, compute_uv, hermitian)</span>
<span class="g g-Whitespace">   </span><span class="mi">1678</span>         <span class="n">gufunc</span> <span class="o">=</span> <span class="n">_umath_linalg</span><span class="o">.</span><span class="n">svd_n_s</span>
<span class="g g-Whitespace">   </span><span class="mi">1680</span> <span class="n">signature</span> <span class="o">=</span> <span class="s1">&#39;D-&gt;DdD&#39;</span> <span class="k">if</span> <span class="n">isComplexType</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="k">else</span> <span class="s1">&#39;d-&gt;ddd&#39;</span>
<span class="ne">-&gt; </span><span class="mi">1681</span> <span class="n">u</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">vh</span> <span class="o">=</span> <span class="n">gufunc</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">signature</span><span class="o">=</span><span class="n">signature</span><span class="p">,</span> <span class="n">extobj</span><span class="o">=</span><span class="n">extobj</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1682</span> <span class="n">u</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">result_t</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1683</span> <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">_realType</span><span class="p">(</span><span class="n">result_t</span><span class="p">),</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">vif</span><span class="o">.</span><span class="n">features</span><span class="p">]</span> <span class="c1">#definidos X con las features que sobrevivieron al VIF</span>
<span class="c1">#X=df</span>
<span class="n">X</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;Xvif.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="balance-de-las-categorias-del-target">
<h3>BALANCE DE LAS CATEGORIAS DEL TARGET<a class="headerlink" href="#balance-de-las-categorias-del-target" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Hagamos una gráfica para conocer balance de las categorias</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">y</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Valor de la Variable Objetivo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribucion de categorias despues de ADASYN&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Rotar las etiquetas del eje x si es necesario</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/3599b9c0dbf1afbc3df5dfd8ddf299833d006f23fb7ae81e5bb8fdcf64972eac.png" src="_images/3599b9c0dbf1afbc3df5dfd8ddf299833d006f23fb7ae81e5bb8fdcf64972eac.png" />
</div>
</div>
<p>Convertimos valores S en 1 y N en 0</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
<span class="n">y</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;y.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datetime</span><span class="o">=</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;datetime64&#39;</span><span class="p">]))</span><span class="o">.</span><span class="n">columns</span>
<span class="n">X</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">datetime</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X_trainval</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_trainval</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">66</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="tecnica-smote">
<h3>Tecnica SMOTE<a class="headerlink" href="#tecnica-smote" title="Permalink to this heading">#</a></h3>
<p>Como nuestro dataset se encuentra desbalanceado, es posible que al final las matrices de confusion y nuestros calculos de metricas se vean sesgados por esta diferencia de proporciones.</p>
<p>Vamos a aplicar la tenica de Oversampling utilizada en uno de los artículos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">imblearn.over_sampling</span> <span class="kn">import</span> <span class="n">SMOTE</span>

<span class="n">smote</span><span class="o">=</span><span class="n">SMOTE</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">66</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EDAD                                 int32
FECHA_SOLICITUD             datetime64[ns]
PERCENTIL_GLOBAL                   float64
GLOBAL                             float64
MATEMATICAS                        float64
                                 ...      
GRUPO_ETNICO_No aplica--           float64
GRUPO_ETNICO_Wayuu                 float64
GRUPO_ETNICO_Zenú / senú           float64
GRUPO_ETNICO_otro                  float64
BECADO_GOB_Y                       float64
Length: 153, dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="o">=</span><span class="n">smote</span><span class="o">.</span><span class="n">fit_resample</span><span class="p">(</span><span class="n">X_trainval</span><span class="p">,</span><span class="n">y_trainval</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Comprobemos ahora, el balance de nuestro set de entrenamiento.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">y_trainval_resampled</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Valor de la Variable Objetivo&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribucion de categorias despues de SMOTE&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Rotar las etiquetas del eje x si es necesario</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/43a1c25bf74cd71d61d8ccbe504720b1f6155f3d69b3e06b56010c08d80a523b.png" src="_images/43a1c25bf74cd71d61d8ccbe504720b1f6155f3d69b3e06b56010c08d80a523b.png" />
</div>
</div>
</section>
</section>
<section id="implementacion-de-modelos-de-ml">
<h2>IMPLEMENTACION DE MODELOS DE ML<a class="headerlink" href="#implementacion-de-modelos-de-ml" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">predictions</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">metrics</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.discriminant_analysis</span> <span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span>
<span class="kn">from</span> <span class="nn">sklearn.linear_model</span> <span class="kn">import</span> <span class="n">LogisticRegression</span>
<span class="kn">from</span> <span class="nn">sklearn.pipeline</span> <span class="kn">import</span> <span class="n">Pipeline</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">roc_curve</span><span class="p">,</span><span class="n">auc</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">precision_score</span><span class="p">,</span> <span class="n">recall_score</span><span class="p">,</span><span class="n">roc_auc_score</span><span class="p">,</span><span class="n">f1_score</span>
</pre></div>
</div>
</div>
</div>
<section id="regresion-logistica">
<h3>REGRESION LOGÍSTICA<a class="headerlink" href="#regresion-logistica" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;LogReg&#39;</span> <span class="c1">#Esto es para la tabla final de metricas</span>
<span class="n">lr</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">()</span>
<span class="n">escaler</span><span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;lr__C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
              <span class="s1">&#39;lr__solver&#39;</span><span class="p">:[</span><span class="s1">&#39;lbfgs&#39;</span><span class="p">,</span> <span class="s1">&#39;liblinear&#39;</span><span class="p">]}</span>
<span class="n">pipe</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([(</span><span class="s1">&#39;escaler&#39;</span><span class="p">,</span> <span class="n">escaler</span> <span class="p">),</span> <span class="p">(</span><span class="s1">&#39;lr&#39;</span><span class="p">,</span><span class="n">lr</span><span class="p">)])</span>
<span class="n">grid_lr</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">pipe</span><span class="p">,</span> <span class="n">param_grid</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;precision&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grid_lr</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span> <span class="n">X_trainval_resampled</span>  <span class="p">,</span><span class="n">y_trainval_resampled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-1 {color: black;}#sk-container-id-1 pre{padding: 0;}#sk-container-id-1 div.sk-toggleable {background-color: white;}#sk-container-id-1 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-1 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-1 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-1 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-1 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-1 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-1 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-1 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-1 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-1 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-1 div.sk-item {position: relative;z-index: 1;}#sk-container-id-1 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-1 div.sk-item::before, #sk-container-id-1 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-1 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-1 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-1 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-1 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-1 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-1 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-1 div.sk-label-container {text-align: center;}#sk-container-id-1 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-1 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-1" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>GridSearchCV(cv=10,
             estimator=Pipeline(steps=[(&#x27;escaler&#x27;, StandardScaler()),
                                       (&#x27;lr&#x27;, LogisticRegression())]),
             param_grid={&#x27;lr__C&#x27;: [0.001, 0.1, 1, 3],
                         &#x27;lr__solver&#x27;: [&#x27;lbfgs&#x27;, &#x27;liblinear&#x27;]},
             scoring=&#x27;precision&#x27;)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox" ><label for="sk-estimator-id-1" class="sk-toggleable__label sk-toggleable__label-arrow">GridSearchCV</label><div class="sk-toggleable__content"><pre>GridSearchCV(cv=10,
             estimator=Pipeline(steps=[(&#x27;escaler&#x27;, StandardScaler()),
                                       (&#x27;lr&#x27;, LogisticRegression())]),
             param_grid={&#x27;lr__C&#x27;: [0.001, 0.1, 1, 3],
                         &#x27;lr__solver&#x27;: [&#x27;lbfgs&#x27;, &#x27;liblinear&#x27;]},
             scoring=&#x27;precision&#x27;)</pre></div></div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-2" type="checkbox" ><label for="sk-estimator-id-2" class="sk-toggleable__label sk-toggleable__label-arrow">estimator: Pipeline</label><div class="sk-toggleable__content"><pre>Pipeline(steps=[(&#x27;escaler&#x27;, StandardScaler()), (&#x27;lr&#x27;, LogisticRegression())])</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-3" type="checkbox" ><label for="sk-estimator-id-3" class="sk-toggleable__label sk-toggleable__label-arrow">StandardScaler</label><div class="sk-toggleable__content"><pre>StandardScaler()</pre></div></div></div><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-4" type="checkbox" ><label for="sk-estimator-id-4" class="sk-toggleable__label sk-toggleable__label-arrow">LogisticRegression</label><div class="sk-toggleable__content"><pre>LogisticRegression()</pre></div></div></div></div></div></div></div></div></div></div></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Best params:</span><span class="se">\n</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_lr</span><span class="o">.</span><span class="n">best_params_</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Best cross-validation score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_lr</span><span class="o">.</span><span class="n">best_score_</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test-set score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_lr</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Train-set score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_lr</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Best params:
{&#39;lr__C&#39;: 1, &#39;lr__solver&#39;: &#39;lbfgs&#39;}

Best cross-validation score: 0.70
Test-set score: 0.59
Train-set score: 0.75
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">predictions</span><span class="p">[</span><span class="s1">&#39;LogReg&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">grid_lr</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_pred</span><span class="o">=</span><span class="n">predictions</span><span class="o">.</span><span class="n">LogReg</span>
<span class="n">y_score</span><span class="o">=</span><span class="n">grid_lr</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">X_test</span><span class="p">)[:,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">predictions</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;predictions.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1">#metricas</span>
<span class="n">cm</span><span class="o">=</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">precission</span><span class="o">=</span><span class="n">precision_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">recall</span><span class="o">=</span><span class="n">recall_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">fscore</span><span class="o">=</span><span class="n">f1_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">auc_score</span><span class="o">=</span><span class="n">roc_auc_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_score</span><span class="o">=</span><span class="n">y_score</span><span class="p">)</span>

<span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">,</span> <span class="n">thresholds</span> <span class="o">=</span> <span class="n">roc_curve</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_score</span><span class="o">=</span><span class="n">y_score</span><span class="p">)</span>
<span class="n">roc_auc</span> <span class="o">=</span> <span class="n">auc</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">)</span>

<span class="c1">#creando el dataset de metricas</span>
<span class="n">metrics</span><span class="p">[</span><span class="n">model</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="n">precission</span><span class="p">,</span><span class="n">recall</span><span class="p">,</span><span class="n">fscore</span><span class="p">,</span><span class="n">auc_score</span><span class="p">]</span> <span class="c1">#Guarda en df de metricas</span>
<span class="n">metricas</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;precission&#39;</span><span class="p">,</span><span class="s1">&#39;recall&#39;</span><span class="p">,</span><span class="s1">&#39;f1_score&#39;</span><span class="p">,</span><span class="s1">&#39;auc_score&#39;</span><span class="p">]</span>
<span class="n">metrics</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">metricas</span><span class="p">),</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">metrics</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>precission</th>
      <th>recall</th>
      <th>f1_score</th>
      <th>auc_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>LogReg</th>
      <td>0.590909</td>
      <td>0.639344</td>
      <td>0.614173</td>
      <td>0.758285</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">confusion_matriz</span><span class="p">(</span><span class="n">cm</span><span class="p">):</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Clase </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">cm</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])]</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span> <span class="n">xticklabels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">yticklabels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Predicciones&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Valores Verdaderos&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Matriz de Confusión Modelo &#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">confusion_matriz</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1a68decfef0a9f76aff99d81e16033211a58189ad6fcc3fa3c922c8da0b0bfa0.png" src="_images/1a68decfef0a9f76aff99d81e16033211a58189ad6fcc3fa3c922c8da0b0bfa0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">report</span><span class="o">=</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              precision    recall  f1-score   support

           0       0.75      0.71      0.73       186
           1       0.59      0.64      0.61       122

    accuracy                           0.68       308
   macro avg       0.67      0.67      0.67       308
weighted avg       0.69      0.68      0.68       308
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">grafico_curvaROC</span> <span class="p">(</span><span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">,</span><span class="n">roc_auc</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;darkorange&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Curva ROC (área = </span><span class="si">%0.2f</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="n">roc_auc</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;navy&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tasa de Falsos Positivos&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Tasa de Verdaderos Positivos&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Curva ROC&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grafico_curvaROC</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span><span class="n">tpr</span><span class="p">,</span><span class="n">roc_auc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ee410a9fada01c41b29de2f517a3b8c896b9bc5f1c3421fee9d10ff50ef25e31.png" src="_images/ee410a9fada01c41b29de2f517a3b8c896b9bc5f1c3421fee9d10ff50ef25e31.png" />
</div>
</div>
</section>
<section id="random-forest-classifier">
<h3>RANDOM FOREST CLASSIFIER<a class="headerlink" href="#random-forest-classifier" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;RANDOM_FOREST&#39;</span> <span class="c1">#Esto es para la tabla final de metricas</span>
<span class="n">rf</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">()</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;max_depth&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
              <span class="s1">&#39;n_estimators&#39;</span><span class="p">:[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">]}</span>
<span class="n">grid_rf</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">rf</span><span class="p">,</span> <span class="n">param_grid</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;precision&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grid_rf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span> <span class="n">X_trainval_resampled</span> <span class="p">,</span><span class="n">y_trainval_resampled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-4 {color: black;}#sk-container-id-4 pre{padding: 0;}#sk-container-id-4 div.sk-toggleable {background-color: white;}#sk-container-id-4 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-4 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-4 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-4 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-4 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-4 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-4 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-4 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-4 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-4 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-4 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-4 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-4 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-4 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-4 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-4 div.sk-item {position: relative;z-index: 1;}#sk-container-id-4 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-4 div.sk-item::before, #sk-container-id-4 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-4 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-4 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-4 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-4 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-4 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-4 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-4 div.sk-label-container {text-align: center;}#sk-container-id-4 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-4 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-4" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>GridSearchCV(cv=10, estimator=RandomForestClassifier(),
             param_grid={&#x27;max_depth&#x27;: [&#x27;None&#x27;, 20, 50],
                         &#x27;n_estimators&#x27;: [50, 100, 200]},
             scoring=&#x27;precision&#x27;)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-12" type="checkbox" ><label for="sk-estimator-id-12" class="sk-toggleable__label sk-toggleable__label-arrow">GridSearchCV</label><div class="sk-toggleable__content"><pre>GridSearchCV(cv=10, estimator=RandomForestClassifier(),
             param_grid={&#x27;max_depth&#x27;: [&#x27;None&#x27;, 20, 50],
                         &#x27;n_estimators&#x27;: [50, 100, 200]},
             scoring=&#x27;precision&#x27;)</pre></div></div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-13" type="checkbox" ><label for="sk-estimator-id-13" class="sk-toggleable__label sk-toggleable__label-arrow">estimator: RandomForestClassifier</label><div class="sk-toggleable__content"><pre>RandomForestClassifier()</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-14" type="checkbox" ><label for="sk-estimator-id-14" class="sk-toggleable__label sk-toggleable__label-arrow">RandomForestClassifier</label><div class="sk-toggleable__content"><pre>RandomForestClassifier()</pre></div></div></div></div></div></div></div></div></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Best params:</span><span class="se">\n</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_rf</span><span class="o">.</span><span class="n">best_params_</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Best cross-validation score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_rf</span><span class="o">.</span><span class="n">best_score_</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test-set score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_rf</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Train-set score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_rf</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Best params:
{&#39;max_depth&#39;: 50, &#39;n_estimators&#39;: 50}

Best cross-validation score: 0.80
Test-set score: 0.59
Train-set score: 1.00
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">predictions</span><span class="p">[</span><span class="s1">&#39;RandomForest&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">grid_rf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_pred</span><span class="o">=</span><span class="n">predictions</span><span class="o">.</span><span class="n">RandomForest</span>
<span class="n">y_score</span><span class="o">=</span><span class="n">grid_lr</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">X_test</span><span class="p">)[:,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">predictions</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;predictions.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1">#metricas</span>
<span class="n">cm</span><span class="o">=</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">precission</span><span class="o">=</span><span class="n">precision_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">recall</span><span class="o">=</span><span class="n">recall_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">fscore</span><span class="o">=</span><span class="n">f1_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">auc_score</span><span class="o">=</span><span class="n">roc_auc_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_score</span><span class="o">=</span><span class="n">y_score</span><span class="p">)</span>

<span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">,</span> <span class="n">thresholds</span> <span class="o">=</span> <span class="n">roc_curve</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_score</span><span class="o">=</span><span class="n">y_score</span><span class="p">)</span>
<span class="n">roc_auc</span> <span class="o">=</span> <span class="n">auc</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">)</span>

<span class="c1">#creando el dataset de metricas</span>
<span class="n">metrics</span><span class="p">[</span><span class="n">model</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="n">precission</span><span class="p">,</span><span class="n">recall</span><span class="p">,</span><span class="n">fscore</span><span class="p">,</span><span class="n">auc_score</span><span class="p">]</span> <span class="c1">#Guarda en df de metricas</span>
<span class="n">metricas</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;precission&#39;</span><span class="p">,</span><span class="s1">&#39;recall&#39;</span><span class="p">,</span><span class="s1">&#39;f1_score&#39;</span><span class="p">,</span><span class="s1">&#39;auc_score&#39;</span><span class="p">]</span>
<span class="n">metrics</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">metricas</span><span class="p">),</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">metrics</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>precission</th>
      <th>recall</th>
      <th>f1_score</th>
      <th>auc_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>LogReg</th>
      <td>0.590909</td>
      <td>0.639344</td>
      <td>0.614173</td>
      <td>0.758285</td>
    </tr>
    <tr>
      <th>RANDOM_FOREST</th>
      <td>0.590909</td>
      <td>0.532787</td>
      <td>0.560345</td>
      <td>0.758285</td>
    </tr>
    <tr>
      <th>SVM</th>
      <td>0.592920</td>
      <td>0.549180</td>
      <td>0.570213</td>
      <td>0.719813</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">confusion_matriz</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/52b45f1e059563bd8c4d186939c835a4bd415d2fc0faf235aa5433864603283c.png" src="_images/52b45f1e059563bd8c4d186939c835a4bd415d2fc0faf235aa5433864603283c.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">report</span><span class="o">=</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              precision    recall  f1-score   support

           0       0.71      0.76      0.73       186
           1       0.59      0.53      0.56       122

    accuracy                           0.67       308
   macro avg       0.65      0.65      0.65       308
weighted avg       0.66      0.67      0.67       308
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grafico_curvaROC</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span><span class="n">tpr</span><span class="p">,</span><span class="n">roc_auc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ee410a9fada01c41b29de2f517a3b8c896b9bc5f1c3421fee9d10ff50ef25e31.png" src="_images/ee410a9fada01c41b29de2f517a3b8c896b9bc5f1c3421fee9d10ff50ef25e31.png" />
</div>
</div>
</section>
<section id="support-vector-machine">
<h3>SUPPORT VECTOR MACHINE<a class="headerlink" href="#support-vector-machine" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">SVC</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;SVM&#39;</span> <span class="c1">#Esto es para la tabla final de metricas</span>
<span class="n">svc</span> <span class="o">=</span> <span class="n">SVC</span><span class="p">()</span>
<span class="n">escaler</span><span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">param_grid</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;svc__C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.001</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
              <span class="s1">&#39;svc__gamma&#39;</span><span class="p">:[</span><span class="s1">&#39;scale&#39;</span><span class="p">,</span> <span class="s1">&#39;auto&#39;</span><span class="p">],</span>
              <span class="s1">&#39;svc__kernel&#39;</span><span class="p">:[</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="s1">&#39;rbf&#39;</span><span class="p">]}</span>
<span class="n">pipe</span><span class="o">=</span><span class="n">Pipeline</span><span class="p">([(</span><span class="s1">&#39;escaler&#39;</span><span class="p">,</span> <span class="n">escaler</span> <span class="p">),</span> <span class="p">(</span><span class="s1">&#39;svc&#39;</span><span class="p">,</span><span class="n">svc</span><span class="p">)])</span>
<span class="n">grid_svc</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">pipe</span><span class="p">,</span> <span class="n">param_grid</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;precision&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grid_svc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span> <span class="n">X_trainval_resampled</span> <span class="p">,</span><span class="n">y_trainval_resampled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-5 {color: black;}#sk-container-id-5 pre{padding: 0;}#sk-container-id-5 div.sk-toggleable {background-color: white;}#sk-container-id-5 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-5 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-5 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-5 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-5 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-5 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-5 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-5 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-5 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-5 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-5 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-5 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-5 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-5 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-5 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-5 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-5 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-5 div.sk-item {position: relative;z-index: 1;}#sk-container-id-5 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-5 div.sk-item::before, #sk-container-id-5 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-5 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-5 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-5 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-5 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-5 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-5 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-5 div.sk-label-container {text-align: center;}#sk-container-id-5 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-5 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-5" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>GridSearchCV(cv=10,
             estimator=Pipeline(steps=[(&#x27;escaler&#x27;, StandardScaler()),
                                       (&#x27;svc&#x27;, SVC())]),
             param_grid={&#x27;svc__C&#x27;: [0.001, 0.01, 1],
                         &#x27;svc__gamma&#x27;: [&#x27;scale&#x27;, &#x27;auto&#x27;],
                         &#x27;svc__kernel&#x27;: [&#x27;linear&#x27;, &#x27;rbf&#x27;]},
             scoring=&#x27;precision&#x27;)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item sk-dashed-wrapped"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-15" type="checkbox" ><label for="sk-estimator-id-15" class="sk-toggleable__label sk-toggleable__label-arrow">GridSearchCV</label><div class="sk-toggleable__content"><pre>GridSearchCV(cv=10,
             estimator=Pipeline(steps=[(&#x27;escaler&#x27;, StandardScaler()),
                                       (&#x27;svc&#x27;, SVC())]),
             param_grid={&#x27;svc__C&#x27;: [0.001, 0.01, 1],
                         &#x27;svc__gamma&#x27;: [&#x27;scale&#x27;, &#x27;auto&#x27;],
                         &#x27;svc__kernel&#x27;: [&#x27;linear&#x27;, &#x27;rbf&#x27;]},
             scoring=&#x27;precision&#x27;)</pre></div></div></div><div class="sk-parallel"><div class="sk-parallel-item"><div class="sk-item"><div class="sk-label-container"><div class="sk-label sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-16" type="checkbox" ><label for="sk-estimator-id-16" class="sk-toggleable__label sk-toggleable__label-arrow">estimator: Pipeline</label><div class="sk-toggleable__content"><pre>Pipeline(steps=[(&#x27;escaler&#x27;, StandardScaler()), (&#x27;svc&#x27;, SVC())])</pre></div></div></div><div class="sk-serial"><div class="sk-item"><div class="sk-serial"><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-17" type="checkbox" ><label for="sk-estimator-id-17" class="sk-toggleable__label sk-toggleable__label-arrow">StandardScaler</label><div class="sk-toggleable__content"><pre>StandardScaler()</pre></div></div></div><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-18" type="checkbox" ><label for="sk-estimator-id-18" class="sk-toggleable__label sk-toggleable__label-arrow">SVC</label><div class="sk-toggleable__content"><pre>SVC()</pre></div></div></div></div></div></div></div></div></div></div></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Best params:</span><span class="se">\n</span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_svc</span><span class="o">.</span><span class="n">best_params_</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Best cross-validation score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_svc</span><span class="o">.</span><span class="n">best_score_</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test-set score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_svc</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Train-set score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">grid_svc</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Best params:
{&#39;svc__C&#39;: 1, &#39;svc__gamma&#39;: &#39;auto&#39;, &#39;svc__kernel&#39;: &#39;rbf&#39;}

Best cross-validation score: 0.76
Test-set score: 0.59
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Train-set score: 0.88
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">predictions</span><span class="p">[</span><span class="s1">&#39;SVC&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">grid_svc</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_pred</span><span class="o">=</span><span class="n">predictions</span><span class="o">.</span><span class="n">SVC</span>
<span class="n">y_score</span><span class="o">=</span><span class="n">grid_svc</span><span class="o">.</span><span class="n">decision_function</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">predictions</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;predictions.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1">#metricas</span>
<span class="n">cm</span><span class="o">=</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">precission</span><span class="o">=</span><span class="n">precision_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">recall</span><span class="o">=</span><span class="n">recall_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">fscore</span><span class="o">=</span><span class="n">f1_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">auc_score</span><span class="o">=</span><span class="n">roc_auc_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_score</span><span class="o">=</span><span class="n">y_score</span><span class="p">)</span>

<span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">,</span> <span class="n">thresholds</span> <span class="o">=</span> <span class="n">roc_curve</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_score</span><span class="o">=</span><span class="n">y_score</span><span class="p">)</span>
<span class="n">roc_auc</span> <span class="o">=</span> <span class="n">auc</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">)</span>

<span class="c1">#creando el dataset de metricas</span>
<span class="n">metrics</span><span class="p">[</span><span class="n">model</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="n">precission</span><span class="p">,</span><span class="n">recall</span><span class="p">,</span><span class="n">fscore</span><span class="p">,</span><span class="n">auc_score</span><span class="p">]</span> <span class="c1">#Guarda en df de metricas</span>
<span class="n">metricas</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;precission&#39;</span><span class="p">,</span><span class="s1">&#39;recall&#39;</span><span class="p">,</span><span class="s1">&#39;f1_score&#39;</span><span class="p">,</span><span class="s1">&#39;auc_score&#39;</span><span class="p">]</span>
<span class="n">metrics</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">metricas</span><span class="p">),</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">metrics</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>precission</th>
      <th>recall</th>
      <th>f1_score</th>
      <th>auc_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>LogReg</th>
      <td>0.590909</td>
      <td>0.639344</td>
      <td>0.614173</td>
      <td>0.758285</td>
    </tr>
    <tr>
      <th>RANDOM_FOREST</th>
      <td>0.590909</td>
      <td>0.532787</td>
      <td>0.560345</td>
      <td>0.758285</td>
    </tr>
    <tr>
      <th>SVM</th>
      <td>0.592920</td>
      <td>0.549180</td>
      <td>0.570213</td>
      <td>0.719813</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">confusion_matriz</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7dcc101f0a70696231b1572b3140bb8d04f1f0141399dc2f013fa6697ec7e5fd.png" src="_images/7dcc101f0a70696231b1572b3140bb8d04f1f0141399dc2f013fa6697ec7e5fd.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">report</span><span class="o">=</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              precision    recall  f1-score   support

           0       0.72      0.75      0.73       186
           1       0.59      0.55      0.57       122

    accuracy                           0.67       308
   macro avg       0.66      0.65      0.65       308
weighted avg       0.67      0.67      0.67       308
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grafico_curvaROC</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span><span class="n">tpr</span><span class="p">,</span><span class="n">roc_auc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5d6cf7a61ff4ac8ddf3b071688a6910b23a49c3d452e103853fea15003d50a44.png" src="_images/5d6cf7a61ff4ac8ddf3b071688a6910b23a49c3d452e103853fea15003d50a44.png" />
</div>
</div>
</section>
<section id="naive-bayes">
<h3>NAIVE BAYES<a class="headerlink" href="#naive-bayes" title="Permalink to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">cross_val_score</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">=</span><span class="s1">&#39;NaiveBayes&#39;</span> <span class="c1">#Esto es para la tabla final de metricas</span>
<span class="n">nb</span><span class="o">=</span> <span class="n">GaussianNB</span><span class="p">()</span>
<span class="n">score_cv</span><span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">nb</span><span class="p">,</span> <span class="n">X_trainval_resampled</span><span class="p">,</span><span class="n">y_trainval_resampled</span><span class="p">,</span><span class="n">cv</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="s1">&#39;accuracy&#39;</span> <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nb</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_trainval_resampled</span><span class="p">,</span><span class="n">y_trainval_resampled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-6 {color: black;}#sk-container-id-6 pre{padding: 0;}#sk-container-id-6 div.sk-toggleable {background-color: white;}#sk-container-id-6 label.sk-toggleable__label {cursor: pointer;display: block;width: 100%;margin-bottom: 0;padding: 0.3em;box-sizing: border-box;text-align: center;}#sk-container-id-6 label.sk-toggleable__label-arrow:before {content: "▸";float: left;margin-right: 0.25em;color: #696969;}#sk-container-id-6 label.sk-toggleable__label-arrow:hover:before {color: black;}#sk-container-id-6 div.sk-estimator:hover label.sk-toggleable__label-arrow:before {color: black;}#sk-container-id-6 div.sk-toggleable__content {max-height: 0;max-width: 0;overflow: hidden;text-align: left;background-color: #f0f8ff;}#sk-container-id-6 div.sk-toggleable__content pre {margin: 0.2em;color: black;border-radius: 0.25em;background-color: #f0f8ff;}#sk-container-id-6 input.sk-toggleable__control:checked~div.sk-toggleable__content {max-height: 200px;max-width: 100%;overflow: auto;}#sk-container-id-6 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {content: "▾";}#sk-container-id-6 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 input.sk-hidden--visually {border: 0;clip: rect(1px 1px 1px 1px);clip: rect(1px, 1px, 1px, 1px);height: 1px;margin: -1px;overflow: hidden;padding: 0;position: absolute;width: 1px;}#sk-container-id-6 div.sk-estimator {font-family: monospace;background-color: #f0f8ff;border: 1px dotted black;border-radius: 0.25em;box-sizing: border-box;margin-bottom: 0.5em;}#sk-container-id-6 div.sk-estimator:hover {background-color: #d4ebff;}#sk-container-id-6 div.sk-parallel-item::after {content: "";width: 100%;border-bottom: 1px solid gray;flex-grow: 1;}#sk-container-id-6 div.sk-label:hover label.sk-toggleable__label {background-color: #d4ebff;}#sk-container-id-6 div.sk-serial::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: 0;}#sk-container-id-6 div.sk-serial {display: flex;flex-direction: column;align-items: center;background-color: white;padding-right: 0.2em;padding-left: 0.2em;position: relative;}#sk-container-id-6 div.sk-item {position: relative;z-index: 1;}#sk-container-id-6 div.sk-parallel {display: flex;align-items: stretch;justify-content: center;background-color: white;position: relative;}#sk-container-id-6 div.sk-item::before, #sk-container-id-6 div.sk-parallel-item::before {content: "";position: absolute;border-left: 1px solid gray;box-sizing: border-box;top: 0;bottom: 0;left: 50%;z-index: -1;}#sk-container-id-6 div.sk-parallel-item {display: flex;flex-direction: column;z-index: 1;position: relative;background-color: white;}#sk-container-id-6 div.sk-parallel-item:first-child::after {align-self: flex-end;width: 50%;}#sk-container-id-6 div.sk-parallel-item:last-child::after {align-self: flex-start;width: 50%;}#sk-container-id-6 div.sk-parallel-item:only-child::after {width: 0;}#sk-container-id-6 div.sk-dashed-wrapped {border: 1px dashed gray;margin: 0 0.4em 0.5em 0.4em;box-sizing: border-box;padding-bottom: 0.4em;background-color: white;}#sk-container-id-6 div.sk-label label {font-family: monospace;font-weight: bold;display: inline-block;line-height: 1.2em;}#sk-container-id-6 div.sk-label-container {text-align: center;}#sk-container-id-6 div.sk-container {/* jupyter's `normalize.less` sets `[hidden] { display: none; }` but bootstrap.min.css set `[hidden] { display: none !important; }` so we also need the `!important` here to be able to override the default hidden behavior on the sphinx rendered scikit-learn.org. See: https://github.com/scikit-learn/scikit-learn/issues/21755 */display: inline-block !important;position: relative;}#sk-container-id-6 div.sk-text-repr-fallback {display: none;}</style><div id="sk-container-id-6" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>GaussianNB()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item"><div class="sk-estimator sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-19" type="checkbox" checked><label for="sk-estimator-id-19" class="sk-toggleable__label sk-toggleable__label-arrow">GaussianNB</label><div class="sk-toggleable__content"><pre>GaussianNB()</pre></div></div></div></div></div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test-set score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nb</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Train-set score: </span><span class="si">{:.2f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">nb</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Test-set score: 0.56
Train-set score: 0.62
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">predictions</span><span class="p">[</span><span class="s1">&#39;NaiveBayes&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">nb</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_pred</span><span class="o">=</span><span class="n">predictions</span><span class="o">.</span><span class="n">NaiveBayes</span>
<span class="n">y_score</span><span class="o">=</span><span class="n">grid_lr</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">X_test</span><span class="p">)[:,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">predictions</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;predictions.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1">#metricas</span>
<span class="n">cm</span><span class="o">=</span><span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">precission</span><span class="o">=</span><span class="n">precision_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">recall</span><span class="o">=</span><span class="n">recall_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">fscore</span><span class="o">=</span><span class="n">f1_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="n">auc_score</span><span class="o">=</span><span class="n">roc_auc_score</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_score</span><span class="o">=</span><span class="n">y_score</span><span class="p">)</span>

<span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">,</span> <span class="n">thresholds</span> <span class="o">=</span> <span class="n">roc_curve</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_score</span><span class="o">=</span><span class="n">y_score</span><span class="p">)</span>
<span class="n">roc_auc</span> <span class="o">=</span> <span class="n">auc</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span> <span class="n">tpr</span><span class="p">)</span>

<span class="c1">#creando el dataset de metricas</span>
<span class="n">metrics</span><span class="p">[</span><span class="n">model</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="n">precission</span><span class="p">,</span><span class="n">recall</span><span class="p">,</span><span class="n">fscore</span><span class="p">,</span><span class="n">auc_score</span><span class="p">]</span> <span class="c1">#Guarda en df de metricas</span>
<span class="n">metricas</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;precission&#39;</span><span class="p">,</span><span class="s1">&#39;recall&#39;</span><span class="p">,</span><span class="s1">&#39;f1_score&#39;</span><span class="p">,</span><span class="s1">&#39;auc_score&#39;</span><span class="p">]</span>
<span class="n">metrics</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">metricas</span><span class="p">),</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">metrics</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>precission</th>
      <th>recall</th>
      <th>f1_score</th>
      <th>auc_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>LogReg</th>
      <td>0.590909</td>
      <td>0.639344</td>
      <td>0.614173</td>
      <td>0.758285</td>
    </tr>
    <tr>
      <th>RANDOM_FOREST</th>
      <td>0.590909</td>
      <td>0.532787</td>
      <td>0.560345</td>
      <td>0.758285</td>
    </tr>
    <tr>
      <th>SVM</th>
      <td>0.592920</td>
      <td>0.549180</td>
      <td>0.570213</td>
      <td>0.719813</td>
    </tr>
    <tr>
      <th>NaiveBayes</th>
      <td>0.476000</td>
      <td>0.975410</td>
      <td>0.639785</td>
      <td>0.758285</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">confusion_matriz</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/0d121e7c1e8839900f107551cab7e62446dd1d2ddbcccb79c00f893ed94a1fa2.png" src="_images/0d121e7c1e8839900f107551cab7e62446dd1d2ddbcccb79c00f893ed94a1fa2.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">report</span><span class="o">=</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_true</span><span class="o">=</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="o">=</span><span class="n">y_pred</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">report</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>              precision    recall  f1-score   support

           0       0.95      0.30      0.45       186
           1       0.48      0.98      0.64       122

    accuracy                           0.56       308
   macro avg       0.71      0.64      0.55       308
weighted avg       0.76      0.56      0.53       308
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grafico_curvaROC</span><span class="p">(</span><span class="n">fpr</span><span class="p">,</span><span class="n">tpr</span><span class="p">,</span><span class="n">roc_auc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/ee410a9fada01c41b29de2f517a3b8c896b9bc5f1c3421fee9d10ff50ef25e31.png" src="_images/ee410a9fada01c41b29de2f517a3b8c896b9bc5f1c3421fee9d10ff50ef25e31.png" />
</div>
</div>
</section>
</section>
<section id="algoritmo-genetico-para-mejorar-precision">
<h2>ALGORITMO GENETICO PARA MEJORAR PRECISION<a class="headerlink" href="#algoritmo-genetico-para-mejorar-precision" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fitness_function</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">predictions</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    <span class="n">recall_class_0</span> <span class="o">=</span> <span class="n">recall_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">predictions</span><span class="p">,</span> <span class="n">pos_label</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">recall_class_0</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">mutate_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="c1"># Obtén el mejor modelo SVC del Pipeline del GridSearchCV</span>
    <span class="n">best_pipeline</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">best_estimator_</span>
    <span class="n">best_svc</span> <span class="o">=</span> <span class="n">best_pipeline</span><span class="o">.</span><span class="n">named_steps</span><span class="p">[</span><span class="s1">&#39;svc&#39;</span><span class="p">]</span>  <span class="c1"># &#39;svc&#39; es el nombre del componente SVC en el Pipeline</span>

    <span class="c1"># Aplica mutaciones al modelo</span>
    <span class="n">new_C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">best_svc</span><span class="o">.</span><span class="n">C</span>  <span class="c1"># Modificar el parámetro de regularización C</span>
    <span class="n">new_kernel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="s1">&#39;poly&#39;</span><span class="p">,</span> <span class="s1">&#39;rbf&#39;</span><span class="p">,</span> <span class="s1">&#39;sigmoid&#39;</span><span class="p">])</span>  <span class="c1"># Modificar el tipo de kernel</span>

    <span class="c1"># Crea un nuevo modelo SVC mutado con las mutaciones</span>
    <span class="n">mutated_svc</span> <span class="o">=</span> <span class="n">SVC</span><span class="p">(</span><span class="n">C</span><span class="o">=</span><span class="n">new_C</span><span class="p">,</span> <span class="n">kernel</span><span class="o">=</span><span class="n">new_kernel</span><span class="p">)</span>

    <span class="c1"># Entrena el modelo mutado con los datos de entrenamiento</span>
    <span class="n">mutated_svc</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">mutated_svc</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.svm</span> <span class="kn">import</span> <span class="n">SVC</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">make_scorer</span><span class="p">,</span> <span class="n">recall_score</span>

<span class="c1"># Función de aptitud (fitness function)</span>
<span class="k">def</span> <span class="nf">fitness_function</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">recall_score</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">average</span><span class="o">=</span><span class="s1">&#39;weighted&#39;</span><span class="p">)</span>

<span class="c1"># Función para evaluar un modelo con hiperparámetros dados</span>
<span class="k">def</span> <span class="nf">evaluate_model</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">SVC</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>  <span class="c1"># Crea un modelo SVC con los hiperparámetros dados</span>
    <span class="n">score</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">cross_val_score</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">scoring</span><span class="o">=</span><span class="n">make_scorer</span><span class="p">(</span><span class="n">fitness_function</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">score</span>

<span class="c1"># Algoritmo genético para optimización de hiperparámetros</span>
<span class="k">def</span> <span class="nf">genetic_algorithm</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">parameter_space</span><span class="p">,</span> <span class="n">generations</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">population_size</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
    <span class="n">population</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">population_size</span><span class="p">):</span>
        <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">parameter_space</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
        <span class="n">fitness</span> <span class="o">=</span> <span class="n">evaluate_model</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">population</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">params</span><span class="p">,</span> <span class="n">fitness</span><span class="p">))</span>

    <span class="k">for</span> <span class="n">generation</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">generations</span><span class="p">):</span>
        <span class="c1"># Seleccionar padres (50% de los mejores)</span>
        <span class="n">parents</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="n">population_size</span> <span class="o">//</span> <span class="mi">2</span><span class="p">]]</span>

        <span class="c1"># Cruzar padres para generar hijos</span>
        <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">parents</span><span class="p">),</span> <span class="mi">2</span><span class="p">):</span>
            <span class="n">parent1</span><span class="p">,</span> <span class="n">parent2</span> <span class="o">=</span> <span class="n">parents</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">parents</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">crossover_point</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent1</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="n">child_params</span> <span class="o">=</span> <span class="p">{</span><span class="n">key</span><span class="p">:</span> <span class="n">parent1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">key</span><span class="p">]</span> <span class="k">if</span> <span class="n">idx</span> <span class="o">&lt;</span> <span class="n">crossover_point</span> <span class="k">else</span> <span class="n">parent2</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
                            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">parameter_space</span><span class="o">.</span><span class="n">keys</span><span class="p">())}</span>
            <span class="n">mutation_prob</span> <span class="o">=</span> <span class="mf">0.2</span>  <span class="c1"># Probabilidad de mutación</span>
            <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">mutation_prob</span><span class="p">:</span>
                <span class="n">mutated_param</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">parameter_space</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
                <span class="n">child_params</span><span class="p">[</span><span class="n">mutated_param</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">parameter_space</span><span class="p">[</span><span class="n">mutated_param</span><span class="p">])</span>
            <span class="n">fitness</span> <span class="o">=</span> <span class="n">evaluate_model</span><span class="p">(</span><span class="n">child_params</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">child_params</span><span class="p">,</span> <span class="n">fitness</span><span class="p">))</span>

        <span class="c1"># Reemplazar la población anterior con la nueva generación</span>
        <span class="n">population</span> <span class="o">=</span> <span class="n">parents</span> <span class="o">+</span> <span class="n">children</span>

    <span class="c1"># Devolver el mejor modelo encontrado</span>
    <span class="n">best_params</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">best_model</span> <span class="o">=</span> <span class="n">SVC</span><span class="p">(</span><span class="o">**</span><span class="n">best_params</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">best_model</span>

<span class="c1"># Definir el espacio de búsqueda de hiperparámetros</span>
<span class="n">parameter_space</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
    <span class="s1">&#39;kernel&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="s1">&#39;poly&#39;</span><span class="p">,</span> <span class="s1">&#39;rbf&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1"># Llamar a la función del algoritmo genético</span>
<span class="n">best_model</span> <span class="o">=</span> <span class="n">genetic_algorithm</span><span class="p">(</span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="p">,</span> <span class="n">parameter_space</span><span class="p">,</span> <span class="n">generations</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">population_size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fitness_function</span><span class="p">(</span><span class="n">grid_svc</span><span class="p">,</span><span class="n">X_trainval_resampled</span><span class="p">,</span><span class="n">y_trainval_resampled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.889087656529517
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mutate_model</span><span class="p">(</span><span class="n">grid_svc</span><span class="p">,</span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-152-1b6996be7e39&gt;</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">mutate_model</span><span class="p">(</span><span class="n">grid_svc</span><span class="p">,</span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="p">)</span>

<span class="nn">&lt;ipython-input-151-0d72225bbdea&gt;</span> in <span class="ni">mutate_model</span><span class="nt">(model, X, y)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="c1"># Aplicar mutaciones al modelo</span>
<span class="ne">----&gt; </span><span class="mi">6</span>     <span class="n">new_C</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">*</span> <span class="n">best_svc</span><span class="o">.</span><span class="n">C</span>  <span class="c1"># Modificar el parámetro de regularización C</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="n">new_kernel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="s1">&#39;poly&#39;</span><span class="p">,</span> <span class="s1">&#39;rbf&#39;</span><span class="p">,</span> <span class="s1">&#39;sigmoid&#39;</span><span class="p">])</span>  <span class="c1"># Modificar el tipo de kernel</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> 

<span class="ne">AttributeError</span>: &#39;Pipeline&#39; object has no attribute &#39;C&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">genetic_algorithm</span><span class="p">(</span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="p">,</span> <span class="n">generations</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">population_size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">mutation_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NotFittedError</span><span class="g g-Whitespace">                            </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-142-2ba42c082014&gt;</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">genetic_algorithm</span><span class="p">(</span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="p">,</span> <span class="n">generations</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">population_size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">mutation_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

<span class="nn">&lt;ipython-input-139-c260615b7b78&gt;</span> in <span class="ni">genetic_algorithm</span><span class="nt">(X, y, generations, population_size, mutation_rate)</span>
<span class="g g-Whitespace">     </span><span class="mi">24</span>     <span class="k">for</span> <span class="n">generation</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">generations</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">25</span>         <span class="c1"># Calcular la aptitud de la población</span>
<span class="ne">---&gt; </span><span class="mi">26</span>         <span class="n">fitness_scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">fitness_function</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">population</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">27</span> 
<span class="g g-Whitespace">     </span><span class="mi">28</span>         <span class="c1"># Selección de padres: seleccionar individuos proporcionalmente a su aptitud</span>

<span class="nn">&lt;ipython-input-139-c260615b7b78&gt;</span> in <span class="ni">&lt;listcomp&gt;</span><span class="nt">(.0)</span>
<span class="g g-Whitespace">     </span><span class="mi">24</span>     <span class="k">for</span> <span class="n">generation</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">generations</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">25</span>         <span class="c1"># Calcular la aptitud de la población</span>
<span class="ne">---&gt; </span><span class="mi">26</span>         <span class="n">fitness_scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">fitness_function</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">population</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">27</span> 
<span class="g g-Whitespace">     </span><span class="mi">28</span>         <span class="c1"># Selección de padres: seleccionar individuos proporcionalmente a su aptitud</span>

<span class="nn">&lt;ipython-input-139-c260615b7b78&gt;</span> in <span class="ni">fitness_function</span><span class="nt">(model, X, y)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="k">def</span> <span class="nf">fitness_function</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="ne">----&gt; </span><span class="mi">6</span>     <span class="n">predictions</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>     <span class="n">recall_class_0</span> <span class="o">=</span> <span class="n">recall_score</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">predictions</span><span class="p">,</span> <span class="n">pos_label</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>     <span class="k">return</span> <span class="n">recall_class_0</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/sklearn/svm/_base.py</span> in <span class="ni">predict</span><span class="nt">(self, X)</span>
<span class="g g-Whitespace">    </span><span class="mi">805</span>             <span class="n">Class</span> <span class="n">labels</span> <span class="k">for</span> <span class="n">samples</span> <span class="ow">in</span> <span class="n">X</span><span class="o">.</span>
<span class="g g-Whitespace">    </span><span class="mi">806</span>         <span class="s2">&quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">807</span><span class="s2">         check_is_fitted(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">808</span><span class="s2">         if self.break_ties and self.decision_function_shape == &quot;ovo&quot;:</span>
<span class="g g-Whitespace">    </span><span class="mi">809</span><span class="s2">             raise ValueError(</span>

<span class="nn">/usr/local/lib/python3.10/dist-packages/sklearn/utils/validation.py</span> in <span class="ni">check_is_fitted</span><span class="nt">(estimator, attributes, msg, all_or_any)</span>
<span class="g g-Whitespace">   </span><span class="mi">1388</span><span class="s2"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1389</span><span class="s2">     if not fitted:</span>
<span class="ne">-&gt; </span><span class="mi">1390</span><span class="s2">         raise NotFittedError(msg % {&quot;name&quot;: type(estimator).__name__})</span>
<span class="g g-Whitespace">   </span><span class="mi">1391</span><span class="s2"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1392</span><span class="s2"> </span>

<span class="ne">NotFittedError</span>: This SVC instance is not fitted yet. Call &#39;fit&#39; with appropriate arguments before using this estimator.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fitness</span><span class="o">=</span><span class="p">[]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">=</span><span class="n">fitness_function</span><span class="p">(</span><span class="n">grid_lr</span><span class="p">,</span><span class="n">X_trainval_resampled</span><span class="p">,</span><span class="n">y_trainval_resampled</span><span class="p">)</span>
<span class="n">b</span><span class="o">=</span><span class="n">fitness_function</span><span class="p">(</span><span class="n">grid_rf</span><span class="p">,</span><span class="n">X_trainval_resampled</span><span class="p">,</span><span class="n">y_trainval_resampled</span><span class="p">)</span>
<span class="n">c</span><span class="o">=</span><span class="n">fitness</span><span class="p">[</span><span class="s1">&#39;nb&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">fitness_function</span><span class="p">(</span><span class="n">nb</span><span class="p">,</span><span class="n">X_trainval_resampled</span><span class="p">,</span><span class="n">y_trainval_resampled</span><span class="p">)</span>
<span class="n">d</span><span class="o">=</span> <span class="n">fitness</span><span class="p">[</span><span class="s1">&#39;svc&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">fitness_function</span><span class="p">(</span><span class="n">grid_svc</span><span class="p">,</span><span class="n">X_trainval_resampled</span><span class="p">,</span><span class="n">y_trainval_resampled</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">models</span> <span class="o">=</span> <span class="p">[</span><span class="n">SVC</span><span class="p">(),</span> <span class="n">LogisticRegression</span><span class="p">(),</span> <span class="n">GaussianNB</span><span class="p">(),</span> <span class="n">RandomForestClassifier</span><span class="p">()]</span>

<span class="n">param_grids</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="s1">&#39;kernel&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="s1">&#39;rbf&#39;</span><span class="p">]},</span>
    <span class="p">{</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="s1">&#39;solver&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;newton-cg&#39;</span><span class="p">,</span> <span class="s1">&#39;lbfgs&#39;</span><span class="p">,</span> <span class="s1">&#39;liblinear&#39;</span><span class="p">]},</span>
    <span class="p">{},</span>  <span class="c1"># Naive Bayes no tiene hiperparámetros ajustables</span>
    <span class="p">{</span><span class="s1">&#39;n_estimators&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">],</span> <span class="s1">&#39;max_depth&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">]}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">model</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">models</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Optimizando modelo </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="n">param_grid</span> <span class="o">=</span> <span class="n">param_grids</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">grid_search</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">estimator</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">param_grid</span><span class="o">=</span><span class="n">param_grid</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">grid_search</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_trainval_resampled</span><span class="p">,</span> <span class="n">y_trainval_resampled</span><span class="p">)</span>
    <span class="n">best_model</span> <span class="o">=</span> <span class="n">grid_search</span><span class="o">.</span><span class="n">best_estimator_</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mejor modelo para </span><span class="si">{</span><span class="n">model</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">best_model</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recall de la clase 0 en conjunto de prueba: </span><span class="si">{</span><span class="n">fitness_function</span><span class="p">(</span><span class="n">best_model</span><span class="p">,</span><span class="w"> </span><span class="n">X_test</span><span class="p">,</span><span class="w"> </span><span class="n">y_test</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Optimizando modelo SVC...
Mejor modelo para SVC: SVC(C=1, kernel=&#39;linear&#39;)
Recall de la clase 0 en conjunto de prueba: 0.7258064516129032

Optimizando modelo LogisticRegression...
Mejor modelo para LogisticRegression: LogisticRegression(C=10, solver=&#39;liblinear&#39;)
Recall de la clase 0 en conjunto de prueba: 0.6935483870967742

Optimizando modelo GaussianNB...
Mejor modelo para GaussianNB: GaussianNB()
Recall de la clase 0 en conjunto de prueba: 0.3225806451612903

Optimizando modelo RandomForestClassifier...
Mejor modelo para RandomForestClassifier: RandomForestClassifier(max_depth=7)
Recall de la clase 0 en conjunto de prueba: 0.7741935483870968
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#antecedentes-revision-bibliografica">1. ANTECEDENTES -REVISION BIBLIOGRAFICA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#algoritmos-geneticos">ALGORITMOS GENÉTICOS</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#metodologia">2. METODOLOGIA</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#resultados">3. RESULTADOS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#desarrollo">Desarrollo</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocesamiento-y-eda">Preprocesamiento y EDA</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lectura-del-dataset">Lectura del Dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-exploratorio">Analisis Exploratorio</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identificacion-de-datos-nulos">Identificacion de datos nulos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#manejo-de-datos-nulos">Manejo de datos Nulos</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ajustando-los-tipos-de-datos">Ajustando los tipos de datos</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizaciones">VISUALIZACIONES</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-engineering-balanceo-de-clases-smote-y-one-hot-encoding">Feature Engineering (Balanceo de clases SMOTE y One Hot Encoding)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aplicando-one-hot-encoder">APLICANDO ONE HOT ENCODER</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identificando-multicolinealidad">IDENTIFICANDO MULTICOLINEALIDAD</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#balance-de-las-categorias-del-target">BALANCE DE LAS CATEGORIAS DEL TARGET</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tecnica-smote">Tecnica SMOTE</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implementacion-de-modelos-de-ml">IMPLEMENTACION DE MODELOS DE ML</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#regresion-logistica">REGRESION LOGÍSTICA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#random-forest-classifier">RANDOM FOREST CLASSIFIER</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#support-vector-machine">SUPPORT VECTOR MACHINE</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#naive-bayes">NAIVE BAYES</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#algoritmo-genetico-para-mejorar-precision">ALGORITMO GENETICO PARA MEJORAR PRECISION</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Gina Buvoli Gomez
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>